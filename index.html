<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ - Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Tahoma', 'Arial', sans-serif;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            overflow-x: hidden;
        }
        
        .game-panel {
            background: linear-gradient(135deg, #1e3a8a, #3730a3);
            border-radius: 12px;
            padding: 16px;
            color: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            margin-bottom: 16px;
        }
        
        .resource-card {
            background: linear-gradient(135deg, #059669, #047857);
            border-radius: 10px;
            padding: 12px 8px;
            text-align: center;
            transition: all 0.2s ease;
            cursor: pointer;
            touch-action: manipulation;
            min-height: 80px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .resource-card:active {
            transform: scale(0.95);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        .action-btn {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            border: none;
            border-radius: 8px;
            padding: 14px 16px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.2s ease;
            touch-action: manipulation;
            font-size: 14px;
            width: 100%;
            margin-bottom: 8px;
        }
        
        .action-btn:active {
            transform: scale(0.98);
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.4);
        }
        
        .notification {
            position: fixed;
            top: 10px;
            right: 10px;
            left: 10px;
            background: #10b981;
            color: white;
            padding: 12px 16px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            transform: translateY(-100px);
            transition: transform 0.3s ease;
            font-size: 14px;
            text-align: center;
        }
        
        .notification.show {
            transform: translateY(0);
        }
        
        .notification.error {
            background: #ef4444;
        }
        
        .war-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            padding: 20px;
        }
        
        .war-modal.active {
            display: flex;
        }
        
        .mobile-header {
            position: sticky;
            top: 0;
            z-index: 100;
            background: linear-gradient(135deg, #1e3a8a, #3730a3);
            padding: 12px 16px;
            color: white;
        }
        
        .mobile-tabs {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: #1f2937;
            display: flex;
            z-index: 200;
            border-top: 1px solid #374151;
        }
        
        .mobile-tab {
            flex: 1;
            padding: 12px 8px;
            text-align: center;
            color: #9ca3af;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
            touch-action: manipulation;
        }
        
        .mobile-tab.active {
            color: #3b82f6;
            background: #374151;
        }
        
        .mobile-tab:active {
            background: #4b5563;
        }
        
        .mobile-content {
            padding-bottom: 80px;
        }
        
        .country-selection-card {
            background: linear-gradient(135deg, #1e3a8a, #3730a3);
            border-radius: 12px;
            padding: 20px;
            color: white;
            margin-bottom: 16px;
            cursor: pointer;
            transition: all 0.2s ease;
            touch-action: manipulation;
        }
        
        .country-selection-card:active {
            transform: scale(0.98);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            margin-bottom: 16px;
        }
        
        .avatar-option {
            width: 50px;
            height: 50px;
            background: #374151;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }
        
        .avatar-option:hover {
            background: #4b5563;
        }
        
        .avatar-option.selected {
            border-color: #3b82f6;
            background: #1e40af;
        }
        
        .country-search {
            background: #374151;
            border: 1px solid #4b5563;
            border-radius: 8px;
            padding: 12px;
            color: white;
            width: 100%;
            margin-bottom: 16px;
        }
        
        .country-search::placeholder {
            color: #9ca3af;
        }
        
        .flowing-bg {
            background: linear-gradient(45deg, 
                rgba(59, 130, 246, 0.3) 0%, 
                rgba(147, 51, 234, 0.3) 25%, 
                rgba(59, 130, 246, 0.3) 50%, 
                rgba(147, 51, 234, 0.3) 75%, 
                rgba(59, 130, 246, 0.3) 100%);
            background-size: 400% 400%;
            animation: flowingGradient 8s ease-in-out infinite;
            width: 100%;
            height: 100%;
        }
        
        @keyframes flowingGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body class="bg-gray-900 min-h-screen text-white">

    <div id="main-homepage" class="min-h-screen">

        <div class="relative overflow-hidden bg-gradient-to-r from-blue-900 via-purple-900 to-blue-900 h-32">
            <div class="absolute inset-0 bg-black bg-opacity-30"></div>
            <div class="relative z-10 h-full flex items-center justify-center">
                <div class="text-center">
                    <img src="https://cdn.imgurl.ir/uploads/a858284_IMG_1444.jpeg" alt="Ù„ÙˆÚ¯ÙˆÛŒ Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ" class="w-16 h-16 mx-auto mb-2 rounded-lg border border-white/50 shadow-md object-cover" onerror="this.style.display='none'; document.getElementById('fallback-title').style.display='block';">
                    <h1 id="fallback-title" class="text-3xl font-bold text-white mb-2 animate-pulse" style="display: none;">ğŸŒ Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ ğŸŒ</h1>
                    <h1 class="text-xl font-bold text-white mb-1">Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ</h1>
                    <p class="text-blue-200 text-sm">Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ© Ø±Ù‡Ø¨Ø±ÛŒ Ú©Ø´ÙˆØ±Ù‡Ø§</p>
                </div>
            </div>

            <div class="absolute top-0 left-0 w-full h-full">
                <div class="flowing-bg"></div>
            </div>
        </div>


        <div class="px-4 py-8">

            <div class="space-y-6 mb-8">
                <div class="game-panel text-center">
                    <div class="text-4xl mb-4">ğŸ®</div>
                    <h2 class="text-xl font-bold mb-3">Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ© Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ</h2>
                    <p class="text-blue-200 text-sm leading-relaxed">
                        Ø±Ù‡Ø¨Ø± Ú©Ø´ÙˆØ± Ø®ÙˆØ¯ Ø´ÙˆÛŒØ¯! Ø§Ù‚ØªØµØ§Ø¯ Ø¨Ø³Ø§Ø²ÛŒØ¯ØŒ Ø§Ø±ØªØ´ ØªÙ‚ÙˆÛŒØª Ú©Ù†ÛŒØ¯ØŒ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ù‡ÛŒØ¯ Ùˆ Ø¯Ø± ØµØ­Ù†Ù‡ Ø¬Ù‡Ø§Ù†ÛŒ Ù‚Ø¯Ø±Øª Ú©Ø³Ø¨ Ú©Ù†ÛŒØ¯!
                    </p>
                </div>


                <div class="grid grid-cols-2 gap-4">
                    <div class="game-panel text-center">
                        <div class="text-2xl mb-2">ğŸ’°</div>
                        <h3 class="font-bold text-sm mb-1">Ø§Ù‚ØªØµØ§Ø¯ Ù‚Ø¯Ø±ØªÙ…Ù†Ø¯</h3>
                        <p class="text-xs text-blue-200">Ù…Ø¹Ø§Ø¯Ù† Ùˆ Ú©Ø§Ø±Ø®Ø§Ù†Ù‡ Ø¨Ø³Ø§Ø²ÛŒØ¯</p>
                    </div>
                    <div class="game-panel text-center">
                        <div class="text-2xl mb-2">âš”ï¸</div>
                        <h3 class="font-bold text-sm mb-1">Ø§Ø±ØªØ´ Ù†ÛŒØ±ÙˆÙ…Ù†Ø¯</h3>
                        <p class="text-xs text-blue-200">Ø³Ø±Ø¨Ø§Ø² Ùˆ ØªØ§Ù†Ú© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <div class="game-panel text-center">
                        <div class="text-2xl mb-2">ğŸ’»</div>
                        <h3 class="font-bold text-sm mb-1">ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡</h3>
                        <p class="text-xs text-blue-200">Ø¯Ø± Ø¹Ù„Ù… Ùˆ ÙÙ†Ø§ÙˆØ±ÛŒ Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ù†ÛŒØ¯</p>
                    </div>
                    <div class="game-panel text-center">
                        <div class="text-2xl mb-2">ğŸš€</div>
                        <h3 class="font-bold text-sm mb-1">Ù…ÙˆØ´Ú© Ùˆ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ</h3>
                        <p class="text-xs text-blue-200">Ù‚Ø¯Ø±Øª Ù†Ø¸Ø§Ù…ÛŒ Ù†Ù‡Ø§ÛŒÛŒ Ú©Ø³Ø¨ Ú©Ù†ÛŒØ¯</p>
                    </div>
                </div>

                <!-- Game Stats -->
                <div class="game-panel">
                    <h3 class="font-bold mb-3 text-center">ğŸ“Š Ø¢Ù…Ø§Ø± Ø¨Ø§Ø²ÛŒ</h3>
                    <div class="grid grid-cols-2 gap-4 text-center text-sm">
                        <div>
                            <div class="text-yellow-400 font-bold text-lg">100+</div>
                            <div class="text-blue-200">Ú©Ø´ÙˆØ± ÙˆØ§Ù‚Ø¹ÛŒ</div>
                        </div>
                        <div>
                            <div class="text-green-400 font-bold text-lg">âˆ</div>
                            <div class="text-blue-200">Ø§Ù…Ú©Ø§Ù†Ø§Øª Ø¨Ø§Ø²ÛŒ</div>
                        </div>
                        <div>
                            <div class="text-purple-400 font-bold text-lg">24/7</div>
                            <div class="text-blue-200">Ø¢Ù†Ù„Ø§ÛŒÙ†</div>
                        </div>
                        <div>
                            <div class="text-red-400 font-bold text-lg">Ø±Ø§ÛŒÚ¯Ø§Ù†</div>
                            <div class="text-blue-200">Ú©Ø§Ù…Ù„Ø§Ù‹ Ù…Ø¬Ø§Ù†ÛŒ</div>
                        </div>
                    </div>
                </div>

                <!-- Rubika Channel Promotion -->
                <div class="game-panel text-center border-2 border-yellow-500">
                    <div class="text-3xl mb-3">ğŸ“±</div>
                    <h3 class="font-bold text-yellow-300 mb-2">Ú©Ø§Ù†Ø§Ù„ Ø±Ø³Ù…ÛŒ Ø±ÙˆØ¨ÛŒÚ©Ø§</h3>
                    <p class="text-sm text-blue-200 mb-4">
                        Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒâ€ŒÙ‡Ø§ Ùˆ Ø§Ø®Ø¨Ø§Ø± Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø§Ø² Ú©Ø§Ù†Ø§Ù„ Ø±Ø³Ù…ÛŒ Ù…Ø§ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯
                    </p>
                    <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" 
                       class="inline-block bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-3 rounded-lg font-bold transition-colors">
                        ğŸ”— Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§
                    </a>
                </div>
            </div>

            <!-- Daily World News -->
            <div class="game-panel mb-6" id="daily-news-section" style="display: none;">
                <h3 class="font-bold mb-4 text-center text-yellow-300">ğŸ“° Ø§Ø®Ø¨Ø§Ø± Ø±ÙˆØ² Ø¯Ù†ÛŒØ§</h3>
                <div class="space-y-3 max-h-64 overflow-y-auto" id="daily-news-container">
                    <!-- News will be populated here -->
                </div>
                <div class="text-center mt-4">
                    <button id="continue-to-game-btn" class="bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-bold transition-all duration-200">
                        Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù‡ Ø¨Ø§Ø²ÛŒ â†
                    </button>
                </div>
            </div>

            <!-- Start Game Button -->
            <div class="text-center" id="start-game-section">
                <button id="start-game-btn" class="bg-gradient-to-r from-green-600 to-blue-600 hover:from-green-700 hover:to-blue-700 text-white px-8 py-4 rounded-xl font-bold text-lg shadow-lg transform hover:scale-105 transition-all duration-200">
                    ğŸ® Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
                </button>
                <p class="text-gray-400 text-xs mt-2">Ø±Ø§ÛŒÚ¯Ø§Ù† Ùˆ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…</p>
            </div>
        </div>
    </div>

    <!-- Mobile Header (Hidden initially) -->
    <div class="mobile-header" style="display: none;">
        <div class="flex items-center justify-between">
            <div class="flex items-center space-x-3 space-x-reverse">
                <img src="https://cdn.imgurl.ir/uploads/a858284_IMG_1444.jpeg" alt="Ù„ÙˆÚ¯Ùˆ" class="w-8 h-8 rounded border border-white/50 object-cover" onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="text-xl" style="display: none;">ğŸŒ</div>
                <div>
                    <h1 class="text-lg font-bold">Ø³ÛŒØ§Ø³Øª Ø¬Ù‡Ø§Ù†ÛŒ</h1>
                    <p class="text-xs text-blue-200">Ø¨Ø§Ø²ÛŒ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒÚ©</p>
                    <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" class="text-xs text-yellow-300 underline hover:text-yellow-200">
                        ğŸ“± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§
                    </a>
                </div>
            </div>
            <div class="flex items-center space-x-2 space-x-reverse">
                <button class="text-xs bg-blue-600 px-3 py-1 rounded" id="user-panel-btn" style="display: none;">
                    ğŸ‘¤ Ù¾Ù†Ù„ Ú©Ø§Ø±Ø¨Ø±ÛŒ
                </button>
                <button class="text-xs bg-red-600 px-3 py-1 rounded" id="admin-panel-btn">
                    ğŸ”‘ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                </button>
                <div class="flex items-center space-x-2 space-x-reverse mr-2" id="user-profile" style="display: none;">
                    <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center text-sm" id="header-avatar">ğŸ‘¤</div>
                    <div class="text-right">
                        <div class="text-sm font-bold" id="header-username">Ú©Ø§Ø±Ø¨Ø±</div>
                        <div class="text-xs text-blue-200">Ø³Ø·Ø­ <span id="user-level">1</span></div>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-lg font-bold" id="game-time">Ø±ÙˆØ² Û±</div>
                    <div class="text-xs text-blue-200">Ø²Ù…Ø§Ù† Ø¨Ø§Ø²ÛŒ</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Setup -->
    <div id="profile-setup" class="px-4 py-6">
        <div class="text-center mb-6">
            <h2 class="text-2xl font-bold mb-3">ğŸ® Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÙØ§ÛŒÙ„</h2>
            <p class="text-gray-400 text-sm">Ø§Ø¨ØªØ¯Ø§ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø³Ø§Ø²ÛŒØ¯</p>
            <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" class="inline-block mt-2 text-xs text-yellow-300 underline hover:text-yellow-200">
                ğŸ“± Ø¹Ø¶ÙˆÛŒØª Ø¯Ø± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§
            </a>
        </div>
        
        <div class="game-panel max-w-md mx-auto">
            <div class="text-center mb-6">
                <div class="w-20 h-20 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center text-3xl cursor-pointer" id="avatar-display">
                    ğŸ‘¤
                </div>
                <button class="text-sm text-blue-400 underline" id="change-avatar-btn">ØªØºÛŒÛŒØ± Ø¢ÙˆØ§ØªØ§Ø±</button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-bold mb-2">Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ:</label>
                    <input type="text" id="username-input" class="w-full p-3 bg-gray-700 rounded-lg text-white" placeholder="Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" maxlength="20">
                </div>
                
                <button class="action-btn" id="create-profile-btn">
                    âœ¨ Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ø±ÙˆÙØ§ÛŒÙ„
                </button>
                
                <div class="text-center">
                    <button class="text-sm text-gray-400 underline" id="load-profile-btn">
                        Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ù‚Ø¨Ù„ÛŒ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Avatar Selector Modal -->
    <div id="avatar-selector" class="war-modal">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4">
            <h3 class="text-lg font-bold mb-4 text-center">Ø§Ù†ØªØ®Ø§Ø¨ Ø¢ÙˆØ§ØªØ§Ø±</h3>
            
            <div class="grid grid-cols-4 gap-3 mb-4" id="avatar-options">
                <!-- Avatar options will be populated -->
            </div>
            
            <div class="flex space-x-2 space-x-reverse">
                <button class="action-btn flex-1 text-sm py-3" id="select-avatar-btn">Ø§Ù†ØªØ®Ø§Ø¨</button>
                <button class="bg-gray-600 text-white px-4 py-3 rounded flex-1 text-sm" id="cancel-avatar-btn">Ø§Ù†ØµØ±Ø§Ù</button>
            </div>
        </div>
    </div>

    <!-- Country Selection -->
    <div id="country-selection" class="px-4 py-6 hidden">
        <div class="text-center mb-6">
            <h2 class="text-2xl font-bold mb-3">Ú©Ø´ÙˆØ± Ø®ÙˆØ¯ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</h2>
            <p class="text-gray-400 text-sm">Ù‡Ø± Ú©Ø´ÙˆØ± ÙˆÛŒÚ˜Ú¯ÛŒâ€ŒÙ‡Ø§ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ Ù…ØªÙØ§ÙˆØªÛŒ Ø¯Ø§Ø±Ø¯</p>
            <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" class="inline-block mt-2 text-xs text-yellow-300 underline hover:text-yellow-200">
                ğŸ“± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§ - Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ
            </a>
        </div>
        
        <input type="text" id="country-search" class="country-search" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ±...">
        
        <div class="space-y-3 max-h-96 overflow-y-auto" id="countries-list">
            <!-- Countries will be populated by JavaScript -->
        </div>
    </div>

    <!-- Main Game Interface -->
    <div id="game-interface" class="hidden mobile-content">
        <!-- Country Status -->
        <div class="px-4 py-4">
            <div class="game-panel">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3 space-x-reverse">
                        <div id="country-flag" class="text-3xl"></div>
                        <div>
                            <h2 class="text-lg font-bold" id="country-name"></h2>
                            <p class="text-blue-200 text-xs" id="president-name">Ø±Ø¦ÛŒØ³â€ŒØ¬Ù…Ù‡ÙˆØ±</p>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-bold" id="power-rank">Ø±ØªØ¨Ù‡: Û³</div>
                        <div class="text-xs text-blue-200">Ø§Ø² Û²Û° Ú©Ø´ÙˆØ±</div>
                    </div>
                </div>
                
                <!-- Resources -->
                <div class="grid grid-cols-3 gap-2 mb-4">
                    <div class="resource-card">
                        <div class="text-lg mb-1">ğŸ’°</div>
                        <div class="font-bold text-sm" id="money">Û°</div>
                        <div class="text-xs">Ù¾ÙˆÙ„</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">ğŸ‘¥</div>
                        <div class="font-bold text-sm" id="population">Û°</div>
                        <div class="text-xs">Ø¬Ù…Ø¹ÛŒØª</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">âš”ï¸</div>
                        <div class="font-bold text-sm" id="army">Û°</div>
                        <div class="text-xs">Ø§Ø±ØªØ´</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">ğŸ’»</div>
                        <div class="font-bold text-sm" id="technology">Û°</div>
                        <div class="text-xs">ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">ğŸ­</div>
                        <div class="font-bold text-sm" id="daily-income">Û°</div>
                        <div class="text-xs">Ø¯Ø±Ø¢Ù…Ø¯ Ø±ÙˆØ²Ø§Ù†Ù‡</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">ğŸš€</div>
                        <div class="font-bold text-sm" id="missiles">Û°</div>
                        <div class="text-xs">Ù…ÙˆØ´Ú©</div>
                    </div>
                </div>
                
                <!-- Nuclear Resources -->
                <div class="grid grid-cols-2 gap-2 mb-4">
                    <div class="resource-card">
                        <div class="text-lg mb-1">âš›ï¸</div>
                        <div class="font-bold text-sm" id="centrifuges">Û°</div>
                        <div class="text-xs">Ø³Ø§Ù†ØªØ±ÛŒÙÛŒÙˆÚ˜</div>
                    </div>
                    <div class="resource-card">
                        <div class="text-lg mb-1">â˜¢ï¸</div>
                        <div class="font-bold text-sm" id="nuclear-program">Û°%</div>
                        <div class="text-xs">Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ</div>
                    </div>
                </div>
            </div>

            <!-- Tab Content -->
            <div id="economy-tab" class="tab-content">
                <div class="game-panel">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¦</span>
                        Ø§Ù‚ØªØµØ§Ø¯
                    </h3>
                    <div class="space-y-2">
                        <button class="action-btn" onclick="buildMine()">
                            Ø³Ø§Ø®Øª Ù…Ø¹Ø¯Ù† (+Û±K Ø¯Ø±Ø¢Ù…Ø¯) - ÛµK$
                        </button>
                        <button class="action-btn" onclick="buildFactory()">
                            Ø³Ø§Ø®Øª Ú©Ø§Ø±Ø®Ø§Ù†Ù‡ (+ÛµÛ°Û° Ø¯Ø±Ø¢Ù…Ø¯) - Û³K$
                        </button>
                        <button class="action-btn" onclick="investTechnology()">
                            Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ - Û¸K$
                        </button>
                        <button class="action-btn" onclick="improveWelfare()">
                            Ø¨Ù‡Ø¨ÙˆØ¯ Ø±ÙØ§Ù‡ (+Ø¬Ù…Ø¹ÛŒØª) - Û¶K$
                        </button>
                    </div>
                </div>

                <!-- Attack Section -->
                <div class="game-panel mt-4">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¯</span>
                        Ø­Ù…Ù„Ù‡ Ø¨Ù‡ Ú©Ø´ÙˆØ±Ù‡Ø§
                    </h3>
                    
                    <input type="text" id="attack-search" class="country-search mb-3" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡...">
                    
                    <div class="space-y-2 max-h-64 overflow-y-auto" id="attack-countries-list">
                        <!-- Attack targets will be populated -->
                    </div>
                </div>
            </div>

            <div id="military-tab" class="tab-content hidden">
                <div class="game-panel">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">âš”ï¸</span>
                        Ù†Ø¸Ø§Ù…ÛŒ
                    </h3>
                    <div class="space-y-2">
                        <button class="action-btn" onclick="recruitSoldiers()">
                            Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø³Ø±Ø¨Ø§Ø² (+Û±K) - Û´K$
                        </button>
                        <button class="action-btn" onclick="buyTanks()">
                            Ø®Ø±ÛŒØ¯ ØªØ§Ù†Ú© (+ÛµÛ°Û°) - Û·K$
                        </button>
                        <button class="action-btn" onclick="buyMissiles()">
                            Ø®Ø±ÛŒØ¯ Ù…ÙˆØ´Ú© (+Ûµ) - Û±Û°K$
                        </button>
                        <button class="action-btn" onclick="buildDefense()">
                            Ø³Ø§Ø®Øª Ù¾Ø¯Ø§ÙÙ†Ø¯ - Û±ÛµK$
                        </button>
                        <button class="action-btn" onclick="buildCentrifuges()">
                            Ø³Ø§Ø®Øª Ø³Ø§Ù†ØªØ±ÛŒÙÛŒÙˆÚ˜ (+Û±) - Û²Û°K$
                        </button>
                        <button class="action-btn" onclick="developNuclear()">
                            ØªÙˆØ³Ø¹Ù‡ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ (+Ûµ%) - Û³Û°K$
                        </button>
                        <button class="action-btn" onclick="buyAdvancedMissiles()">
                            Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ (+Û±Û°) - Û²ÛµK$
                        </button>
                    </div>
                </div>

                <!-- Attack Section -->
                <div class="game-panel mt-4">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¯</span>
                        Ø­Ù…Ù„Ù‡ Ø¨Ù‡ Ú©Ø´ÙˆØ±Ù‡Ø§
                    </h3>
                    
                    <input type="text" id="attack-search" class="country-search mb-3" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡...">
                    
                    <div class="space-y-2 max-h-64 overflow-y-auto" id="attack-countries-list">
                        <!-- Attack targets will be populated -->
                    </div>
                </div>
            </div>

            <div id="diplomacy-tab" class="tab-content hidden">
                <div class="game-panel">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¤</span>
                        Ø¯ÛŒÙ¾Ù„Ù…Ø§Ø³ÛŒ
                    </h3>
                    <div class="space-y-2">
                        <button class="action-btn" onclick="showNotification('Ù…Ø°Ø§Ú©Ø±Ø§Øª Ø¯ÛŒÙ¾Ù„Ù…Ø§ØªÛŒÚ© Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª...')">
                            Ù…Ø°Ø§Ú©Ø±Ø§Øª Ø¯ÛŒÙ¾Ù„Ù…Ø§ØªÛŒÚ©
                        </button>
                        <button class="action-btn" onclick="showNotification('Ø³ÛŒØ³ØªÙ… Ø§ØªØ­Ø§Ø¯Ù‡Ø§ Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ Ø§Ø³Øª...')">
                            Ø§ØªØ­Ø§Ø¯Ù‡Ø§ Ùˆ Ù¾ÛŒÙ…Ø§Ù†â€ŒÙ‡Ø§
                        </button>
                        <button class="action-btn" onclick="showWarOptions()">
                            Ø§Ø¹Ù„Ø§Ù† Ø¬Ù†Ú¯
                        </button>
                        <button class="action-btn" onclick="spyMission()">
                            Ù…Ø§Ù…ÙˆØ±ÛŒØª Ø¬Ø§Ø³ÙˆØ³ÛŒ - ÛµK$
                        </button>
                    </div>
                </div>

                <!-- Attack Section -->
                <div class="game-panel mt-4">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¯</span>
                        Ø­Ù…Ù„Ù‡ Ø¨Ù‡ Ú©Ø´ÙˆØ±Ù‡Ø§
                    </h3>
                    
                    <input type="text" id="attack-search" class="country-search mb-3" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡...">
                    
                    <div class="space-y-2 max-h-64 overflow-y-auto" id="attack-countries-list">
                        <!-- Attack targets will be populated -->
                    </div>
                </div>
            </div>

            <div id="world-tab" class="tab-content hidden">
                <div class="game-panel">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸŒ</span>
                        ÙˆØ¶Ø¹ÛŒØª Ø¬Ù‡Ø§Ù†
                    </h3>
                    <div class="space-y-4">
                        <div>
                            <h4 class="font-bold mb-2 text-sm">Ø±ØªØ¨Ù‡â€ŒØ¨Ù†Ø¯ÛŒ Ù‚Ø¯Ø±Øª</h4>
                            <div class="space-y-1" id="world-ranking">
                                <!-- Rankings will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Attack Section -->
                <div class="game-panel mt-4">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <span class="text-xl ml-3">ğŸ¯</span>
                        Ø­Ù…Ù„Ù‡ Ø¨Ù‡ Ú©Ø´ÙˆØ±Ù‡Ø§
                    </h3>
                    
                    <input type="text" id="attack-search" class="country-search mb-3" placeholder="ğŸ” Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ± Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡...">
                    
                    <div class="space-y-2 max-h-64 overflow-y-auto" id="attack-countries-list">
                        <!-- Attack targets will be populated -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Navigation Tabs -->
    <div class="mobile-tabs" style="display: none;">
        <div class="mobile-tab active" onclick="switchTab('economy')">
            <div class="text-lg mb-1">ğŸ¦</div>
            <div>Ø§Ù‚ØªØµØ§Ø¯</div>
        </div>
        <div class="mobile-tab" onclick="switchTab('military')">
            <div class="text-lg mb-1">âš”ï¸</div>
            <div>Ù†Ø¸Ø§Ù…ÛŒ</div>
        </div>
        <div class="mobile-tab" onclick="switchTab('diplomacy')">
            <div class="text-lg mb-1">ğŸ¤</div>
            <div>Ø¯ÛŒÙ¾Ù„Ù…Ø§Ø³ÛŒ</div>
        </div>
        <div class="mobile-tab" onclick="switchTab('world')">
            <div class="text-lg mb-1">ğŸŒ</div>
            <div>Ø¬Ù‡Ø§Ù†</div>
        </div>
    </div>

    <!-- War Modal -->
    <div id="war-modal" class="war-modal">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4">
            <h3 class="text-lg font-bold mb-3 text-center">âš”ï¸ Ø§Ø¹Ù„Ø§Ù† Ø¬Ù†Ú¯</h3>
            <p class="text-gray-300 mb-4 text-center text-sm">Ú©Ø´ÙˆØ± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</p>
            
            <div class="space-y-2 mb-4 max-h-60 overflow-y-auto" id="enemy-countries">
                <!-- Enemy countries will be populated -->
            </div>
            
            <div class="flex space-x-2 space-x-reverse">
                <button class="action-btn flex-1 text-sm py-3" onclick="startWar()">Ø´Ø±ÙˆØ¹ Ø¬Ù†Ú¯</button>
                <button class="bg-gray-600 text-white px-4 py-3 rounded flex-1 text-sm" onclick="closeWarModal()">Ø§Ù†ØµØ±Ø§Ù</button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="admin-login-modal" class="war-modal">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4">
            <h3 class="text-lg font-bold mb-4 text-center">ğŸ”‘ ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h3>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-bold mb-2">Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±:</label>
                    <input type="password" id="admin-password" class="w-full p-3 bg-gray-700 rounded-lg text-white" placeholder="Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯">
                </div>
                
                <div class="flex space-x-2 space-x-reverse">
                    <button class="action-btn flex-1 text-sm py-3" onclick="checkAdminPassword()">ÙˆØ±ÙˆØ¯</button>
                    <button class="bg-gray-600 text-white px-4 py-3 rounded flex-1 text-sm" onclick="closeAdminLogin()">Ø§Ù†ØµØ±Ø§Ù</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel Modal -->
    <div id="admin-panel-modal" class="war-modal">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4 max-h-96 overflow-y-auto">
            <h3 class="text-lg font-bold mb-4 text-center">ğŸ”‘ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª</h3>
            
            <div class="space-y-4">
                <!-- Resource Editor -->
                <div class="bg-red-900 rounded-lg p-4">
                    <h4 class="font-bold mb-3 text-red-300">âš¡ ÙˆÛŒØ±Ø§ÛŒØ´ Ù…Ù†Ø§Ø¨Ø¹</h4>
                    <div class="space-y-2">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <label class="text-sm w-16">ğŸ’° Ù¾ÙˆÙ„:</label>
                            <input type="number" id="admin-money" class="flex-1 p-2 bg-gray-700 rounded text-white text-sm" placeholder="0">
                            <button class="bg-green-600 px-3 py-1 rounded text-xs" onclick="handleAdminAction('setMoney')">ØªÙ†Ø¸ÛŒÙ…</button>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <label class="text-sm w-16">ğŸ‘¥ Ø¬Ù…Ø¹ÛŒØª:</label>
                            <input type="number" id="admin-population" class="flex-1 p-2 bg-gray-700 rounded text-white text-sm" placeholder="0">
                            <button class="bg-green-600 px-3 py-1 rounded text-xs" onclick="handleAdminAction('setPopulation')">ØªÙ†Ø¸ÛŒÙ…</button>
                        </div>
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <label class="text-sm w-16">âš”ï¸ Ø§Ø±ØªØ´:</label>
                            <input type="number" id="admin-army" class="flex-1 p-2 bg-gray-700 rounded text-white text-sm" placeholder="0">
                            <button class="bg-green-600 px-3 py-1 rounded text-xs" onclick="handleAdminAction('setArmy')">ØªÙ†Ø¸ÛŒÙ…</button>
                        </div>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="bg-yellow-900 rounded-lg p-4">
                    <h4 class="font-bold mb-3 text-yellow-300">âš¡ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ø³Ø±ÛŒØ¹</h4>
                    <div class="grid grid-cols-2 gap-2">
                        <button class="bg-green-600 text-white px-3 py-2 rounded text-xs" onclick="handleAdminAction('maxAll')">
                            ğŸš€ Ø­Ø¯Ø§Ú©Ø«Ø± Ù‡Ù…Ù‡
                        </button>
                        <button class="bg-blue-600 text-white px-3 py-2 rounded text-xs" onclick="handleAdminAction('addMillion')">
                            ğŸ’° +1M Ù¾ÙˆÙ„
                        </button>
                    </div>
                </div>

                <!-- Players List -->
                <div class="bg-purple-900 rounded-lg p-4">
                    <h4 class="font-bold mb-3 text-purple-300">ğŸ‘¥ Ù„ÛŒØ³Øª Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†</h4>
                    <div class="space-y-2">
                        <button class="bg-purple-600 text-white px-4 py-2 rounded text-sm w-full" onclick="refreshPlayersList()">
                            ğŸ”„ Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù„ÛŒØ³Øª
                        </button>
                        <div class="max-h-64 overflow-y-auto space-y-1" id="players-list">
                            <!-- Players will be populated here -->
                        </div>
                        <div class="text-xs text-purple-300 text-center" id="players-count">
                            ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: 0
                        </div>
                    </div>
                </div>

                <div class="space-y-2">
                    <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" class="block bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-3 rounded w-full text-sm text-center font-bold transition-colors">
                        ğŸ“± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§
                    </a>
                    <button class="bg-gray-600 text-white px-4 py-3 rounded w-full text-sm" onclick="closeAdminPanel()">
                        Ø¨Ø³ØªÙ† Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- User Panel Modal -->
    <div id="user-panel-modal" class="war-modal">
        <div class="bg-gray-800 rounded-lg p-6 w-full max-w-sm mx-4 max-h-96 overflow-y-auto">
            <h3 class="text-lg font-bold mb-4 text-center">ğŸ‘¤ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
            
            <div class="space-y-4">
                <!-- User Profile Info -->
                <div class="bg-gray-700 rounded-lg p-4 text-center">
                    <div class="w-16 h-16 mx-auto mb-3 bg-blue-600 rounded-full flex items-center justify-center text-2xl" id="profile-avatar">ğŸ‘¤</div>
                    <h4 class="font-bold text-lg" id="profile-username">Ú©Ø§Ø±Ø¨Ø±</h4>
                    <p class="text-sm text-gray-300">Ø³Ø·Ø­ <span id="profile-level">1</span> â€¢ <span id="profile-xp">0</span> XP</p>
                </div>

                <!-- User Stats -->
                <div class="bg-gray-700 rounded-lg p-4">
                    <h4 class="font-bold mb-3">ğŸ“Š Ø¢Ù…Ø§Ø± Ú©Ù„ÛŒ</h4>
                    <div class="stats-grid text-sm">
                        <div>ğŸ® Ø¨Ø§Ø²ÛŒâ€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡: <span id="games-played">0</span></div>
                        <div>ğŸ† Ù¾ÛŒØ±ÙˆØ²ÛŒâ€ŒÙ‡Ø§: <span id="wars-won">0</span></div>
                        <div>ğŸ’° Ú©Ù„ Ù¾ÙˆÙ„ Ú©Ø³Ø¨ Ø´Ø¯Ù‡: <span id="total-money">0</span></div>
                        <div>âš”ï¸ Ø¬Ù†Ú¯â€ŒÙ‡Ø§ÛŒ Ø¨Ø±Ø¯Ù‡: <span id="total-wars">0</span></div>
                    </div>
                </div>
                
                <div class="space-y-2">
                    <a href="https://rubika.ir/worldpolitics" target="_blank" rel="noopener noreferrer" class="block bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-3 rounded w-full text-sm text-center font-bold transition-colors">
                        ğŸ“± Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§
                    </a>
                    <button class="action-btn text-sm py-3" onclick="saveCurrentGame()">
                        ğŸ’¾ Ø°Ø®ÛŒØ±Ù‡ Ø¨Ø§Ø²ÛŒ ÙØ¹Ù„ÛŒ
                    </button>
                    <button class="bg-red-600 text-white px-4 py-3 rounded w-full text-sm" onclick="resetGame()">
                        ğŸ”„ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯
                    </button>
                    <button class="bg-gray-600 text-white px-4 py-3 rounded w-full text-sm" onclick="closeUserPanel()">
                        Ø¨Ø³ØªÙ†
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <div id="notification-text"></div>
    </div>

    <!-- Hidden Recovery Element -->
    <div id="recovery-data" style="display: none;"></div>

    <script>
        // Enhanced Game State with Persistence
        let gameState = {
            selectedCountry: null,
            day: 1,
            countries: {
                // Ù‚Ø¯Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯
                usa: { name: 'Ø¢Ù…Ø±ÛŒÚ©Ø§', flag: 'ğŸ‡ºğŸ‡¸', president: 'Ø¯ÙˆÙ†Ø§Ù„Ø¯ ØªØ±Ø§Ù…Ù¾', money: 250000, population: 335000000, army: 18000, technology: 95, dailyIncome: 12000, centrifuges: 0, missiles: 80, nuclearProgram: 100 },
                china: { name: 'Ú†ÛŒÙ†', flag: 'ğŸ‡¨ğŸ‡³', president: 'Ø´ÛŒ Ø¬ÛŒÙ† Ù¾ÛŒÙ†Ú¯', money: 200000, population: 1420000000, army: 15000, technology: 85, dailyIncome: 10000, centrifuges: 0, missiles: 70, nuclearProgram: 95 },
                russia: { name: 'Ø±ÙˆØ³ÛŒÙ‡', flag: 'ğŸ‡·ğŸ‡º', president: 'ÙˆÙ„Ø§Ø¯ÛŒÙ…ÛŒØ± Ù¾ÙˆØªÛŒÙ†', money: 120000, population: 144000000, army: 12000, technology: 75, dailyIncome: 6000, centrifuges: 0, missiles: 90, nuclearProgram: 100 },
                india: { name: 'Ù‡Ù†Ø¯', flag: 'ğŸ‡®ğŸ‡³', president: 'Ù†Ø§Ø±Ù†Ø¯Ø±Ø§ Ù…ÙˆØ¯ÛŒ', money: 90000, population: 1430000000, army: 10000, technology: 65, dailyIncome: 5500, centrifuges: 0, missiles: 50, nuclearProgram: 85 },
                
                // Ø§Ø±ÙˆÙ¾Ø§
                germany: { name: 'Ø¢Ù„Ù…Ø§Ù†', flag: 'ğŸ‡©ğŸ‡ª', president: 'Ø§ÙˆÙ„Ø§Ù Ø´ÙˆÙ„ØªØ²', money: 140000, population: 84000000, army: 5000, technology: 90, dailyIncome: 7000, centrifuges: 0, missiles: 10, nuclearProgram: 0 },
                france: { name: 'ÙØ±Ø§Ù†Ø³Ù‡', flag: 'ğŸ‡«ğŸ‡·', president: 'Ø§Ù…Ø§Ù†ÙˆØ¦Ù„ Ù…Ú©Ø±ÙˆÙ†', money: 130000, population: 68000000, army: 4500, technology: 88, dailyIncome: 6500, centrifuges: 0, missiles: 40, nuclearProgram: 90 },
                uk: { name: 'Ø§Ù†Ú¯Ù„Ø³ØªØ§Ù†', flag: 'ğŸ‡¬ğŸ‡§', president: 'Ú©ÛŒØ± Ø§Ø³ØªØ§Ø±Ù…Ø±', money: 120000, population: 68000000, army: 4000, technology: 87, dailyIncome: 6000, centrifuges: 0, missiles: 35, nuclearProgram: 85 },
                italy: { name: 'Ø§ÛŒØªØ§Ù„ÛŒØ§', flag: 'ğŸ‡®ğŸ‡¹', president: 'Ø¬ÙˆØ±Ø¬Ø§ Ù…Ù„ÙˆÙ†ÛŒ', money: 100000, population: 59000000, army: 3000, technology: 80, dailyIncome: 5000, centrifuges: 0, missiles: 12, nuclearProgram: 0 },
                spain: { name: 'Ø§Ø³Ù¾Ø§Ù†ÛŒØ§', flag: 'ğŸ‡ªğŸ‡¸', president: 'Ù¾Ø¯Ø±Ùˆ Ø³Ø§Ù†Ú†Ø²', money: 85000, population: 48000000, army: 2800, technology: 78, dailyIncome: 4500, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                poland: { name: 'Ù„Ù‡Ø³ØªØ§Ù†', flag: 'ğŸ‡µğŸ‡±', president: 'Ø¢Ù†Ø¯Ú˜ÛŒ Ø¯ÙˆØ¯Ø§', money: 65000, population: 38000000, army: 3500, technology: 70, dailyIncome: 3500, centrifuges: 0, missiles: 15, nuclearProgram: 0 },
                netherlands: { name: 'Ù‡Ù„Ù†Ø¯', flag: 'ğŸ‡³ğŸ‡±', president: 'Ù…Ø§Ø±Ú© Ø±ÙˆØªÙ‡', money: 95000, population: 17500000, army: 1800, technology: 85, dailyIncome: 5000, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                belgium: { name: 'Ø¨Ù„Ú˜ÛŒÚ©', flag: 'ğŸ‡§ğŸ‡ª', president: 'Ø§Ù„Ú©Ø³Ø§Ù†Ø¯Ø± Ø¯Ú©Ø±Ùˆ', money: 55000, population: 11600000, army: 1200, technology: 82, dailyIncome: 3000, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                switzerland: { name: 'Ø³ÙˆØ¦ÛŒØ³', flag: 'ğŸ‡¨ğŸ‡­', president: 'Ø¢Ù„Ù† Ø¨Ø±Ø³Øª', money: 85000, population: 8800000, army: 800, technology: 88, dailyIncome: 4500, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                austria: { name: 'Ø§ØªØ±ÛŒØ´', flag: 'ğŸ‡¦ğŸ‡¹', president: 'Ø§Ù„Ú©Ø³Ø§Ù†Ø¯Ø± ÙˆÙ† Ø¯Ø± Ø¨Ù„Ù†', money: 50000, population: 9000000, army: 900, technology: 80, dailyIncome: 2800, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                sweden: { name: 'Ø³ÙˆØ¦Ø¯', flag: 'ğŸ‡¸ğŸ‡ª', president: 'Ø§ÙˆÙ„Ù Ú©Ø±ÛŒØ³ØªØ±Ø³ÙˆÙ†', money: 60000, population: 10500000, army: 1500, technology: 85, dailyIncome: 3500, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                norway: { name: 'Ù†Ø±ÙˆÚ˜', flag: 'ğŸ‡³ğŸ‡´', president: 'ÛŒÙˆÙ†Ø§Ø³ Ú¯Ø§Ø± Ø§Ø³ØªÙˆØ±Ù‡', money: 75000, population: 5400000, army: 1000, technology: 83, dailyIncome: 4000, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                denmark: { name: 'Ø¯Ø§Ù†Ù…Ø§Ø±Ú©', flag: 'ğŸ‡©ğŸ‡°', president: 'Ù…ØªÙ‡ ÙØ±Ø¯Ø±ÛŒÚ©Ø³Ù†', money: 65000, population: 5900000, army: 1200, technology: 82, dailyIncome: 3500, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                finland: { name: 'ÙÙ†Ù„Ø§Ù†Ø¯', flag: 'FI', president: 'Ø³Ø§ÙˆÙ„ÛŒ Ù†ÛŒÙ†ÛŒØ³ØªÙˆ', money: 55000, population: 5500000, army: 1800, technology: 80, dailyIncome: 3000, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                greece: { name: 'ÛŒÙˆÙ†Ø§Ù†', flag: 'ğŸ‡¬ğŸ‡·', president: 'Ú©ÛŒØ±ÛŒØ§Ú©ÙˆØ³ Ù…ÛŒØªØ³ÙˆØªØ§Ú©ÛŒØ³', money: 35000, population: 10700000, army: 2500, technology: 65, dailyIncome: 2000, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                portugal: { name: 'Ù¾Ø±ØªØºØ§Ù„', flag: 'ğŸ‡µğŸ‡¹', president: 'Ø¢Ù†ØªÙˆÙ†ÛŒÙˆ Ú©Ø§Ø³ØªØ§', money: 40000, population: 10300000, army: 1500, technology: 70, dailyIncome: 2200, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                czechia: { name: 'Ú†Ú©', flag: 'ğŸ‡¨ğŸ‡¿', president: 'Ù¾ØªØ± ÙÛŒØ§Ù„Ø§', money: 45000, population: 10700000, army: 1800, technology: 72, dailyIncome: 2500, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                hungary: { name: 'Ù…Ø¬Ø§Ø±Ø³ØªØ§Ù†', flag: 'ğŸ‡­ğŸ‡º', president: 'ÙˆÛŒÚ©ØªÙˆØ± Ø§ÙˆØ±Ø¨Ø§Ù†', money: 35000, population: 9700000, army: 1600, technology: 68, dailyIncome: 2000, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                romania: { name: 'Ø±ÙˆÙ…Ø§Ù†ÛŒ', flag: 'ğŸ‡·ğŸ‡´', president: 'Ú©Ù„Ø§ÙˆØ³ ÛŒÙˆÙ‡Ø§Ù†ÛŒØ³', money: 40000, population: 19000000, army: 2200, technology: 65, dailyIncome: 2200, centrifuges: 0, missiles: 7, nuclearProgram: 0 },
                bulgaria: { name: 'Ø¨Ù„ØºØ§Ø±Ø³ØªØ§Ù†', flag: 'ğŸ‡§ğŸ‡¬', president: 'Ø±ÙˆÙ…Ù† Ø±Ø§Ø¯Ù', money: 25000, population: 6900000, army: 1200, technology: 60, dailyIncome: 1500, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                croatia: { name: 'Ú©Ø±ÙˆØ§Ø³ÛŒ', flag: 'ğŸ‡­ğŸ‡·', president: 'Ø²ÙˆØ±Ø§Ù† Ù…ÛŒÙ„Ø§Ù†ÙˆÙˆÛŒÚ†', money: 30000, population: 3900000, army: 800, technology: 68, dailyIncome: 1800, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                ukraine: { name: 'Ø§ÙˆÚ©Ø±Ø§ÛŒÙ†', flag: 'ğŸ‡ºğŸ‡¦', president: 'ÙˆÙ„ÙˆØ¯ÛŒÙ…ÛŒØ± Ø²Ù„Ù†Ø³Ú©ÛŒ', money: 25000, population: 41000000, army: 8000, technology: 55, dailyIncome: 1200, centrifuges: 0, missiles: 20, nuclearProgram: 0 },
                belarus: { name: 'Ø¨Ù„Ø§Ø±ÙˆØ³', flag: 'ğŸ‡§ğŸ‡¾', president: 'Ø§Ù„Ú©Ø³Ø§Ù†Ø¯Ø± Ù„ÙˆÚ©Ø§Ø´Ù†Ú©Ùˆ', money: 20000, population: 9400000, army: 2500, technology: 50, dailyIncome: 1000, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                
                // Ø¢Ø³ÛŒØ§
                japan: { name: 'Ú˜Ø§Ù¾Ù†', flag: 'ğŸ‡¯ğŸ‡µ', president: 'ÙÙˆÙ…ÛŒÙˆ Ú©ÛŒØ´ÛŒØ¯Ø§', money: 150000, population: 124000000, army: 3500, technology: 96, dailyIncome: 8000, centrifuges: 0, missiles: 20, nuclearProgram: 0 },
                southkorea: { name: 'Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ', flag: 'ğŸ‡°ğŸ‡·', president: 'ÛŒÙˆÙ† Ø³ÙˆÚ© ÛŒÙˆÙ„', money: 110000, population: 52000000, army: 4500, technology: 92, dailyIncome: 6000, centrifuges: 0, missiles: 18, nuclearProgram: 0 },
                northkorea: { name: 'Ú©Ø±Ù‡ Ø´Ù…Ø§Ù„ÛŒ', flag: 'ğŸ‡°ğŸ‡µ', president: 'Ú©ÛŒÙ… Ø¬ÙˆÙ†Ú¯ Ø§ÙˆÙ†', money: 30000, population: 26000000, army: 7000, technology: 40, dailyIncome: 1200, centrifuges: 10, missiles: 50, nuclearProgram: 70 },
                indonesia: { name: 'Ø§Ù†Ø¯ÙˆÙ†Ø²ÛŒ', flag: 'ğŸ‡®ğŸ‡©', president: 'Ø¬ÙˆÚ©Ùˆ ÙˆÛŒØ¯ÙˆØ¯Ùˆ', money: 70000, population: 275000000, army: 6000, technology: 55, dailyIncome: 3500, centrifuges: 0, missiles: 12, nuclearProgram: 0 },
                thailand: { name: 'ØªØ§ÛŒÙ„Ù†Ø¯', flag: 'ğŸ‡¹ğŸ‡­', president: 'Ù¾Ø±Ø§ÛŒÙˆØª Ú†Ø§Ù† Ø§ÙˆÚ†Ø§', money: 55000, population: 70000000, army: 3500, technology: 60, dailyIncome: 2800, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                vietnam: { name: 'ÙˆÛŒØªÙ†Ø§Ù…', flag: 'ğŸ‡»ğŸ‡³', president: 'Ù†Ú¯ÙˆÛŒÙ† ÙÙˆ ØªØ±ÙˆÙ†Ú¯', money: 45000, population: 98000000, army: 4500, technology: 50, dailyIncome: 2200, centrifuges: 0, missiles: 10, nuclearProgram: 0 },
                philippines: { name: 'ÙÛŒÙ„ÛŒÙ¾ÛŒÙ†', flag: 'ğŸ‡µğŸ‡­', president: 'ÙØ±Ø¯ÛŒÙ†Ø§Ù†Ø¯ Ù…Ø§Ø±Ú©ÙˆØ³', money: 40000, population: 112000000, army: 3000, technology: 45, dailyIncome: 2000, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                malaysia: { name: 'Ù…Ø§Ù„Ø²ÛŒ', flag: 'ğŸ‡²ğŸ‡¾', president: 'Ø§Ù†ÙˆØ± Ø§Ø¨Ø±Ø§Ù‡ÛŒÙ…', money: 50000, population: 33000000, army: 2200, technology: 65, dailyIncome: 2500, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                singapore: { name: 'Ø³Ù†Ú¯Ø§Ù¾ÙˆØ±', flag: 'ğŸ‡¸ğŸ‡¬', president: 'Ù„ÛŒ Ø´ÛŒÙ† Ù„ÙˆÙ†Ú¯', money: 65000, population: 6000000, army: 800, technology: 90, dailyIncome: 3500, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                bangladesh: { name: 'Ø¨Ù†Ú¯Ù„Ø§Ø¯Ø´', flag: 'ğŸ‡§ğŸ‡©', president: 'Ø´ÛŒØ® Ø­Ø³ÛŒÙ†Ù‡', money: 35000, population: 170000000, army: 4000, technology: 35, dailyIncome: 1800, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                myanmar: { name: 'Ù…ÛŒØ§Ù†Ù…Ø§Ø±', flag: 'ğŸ‡²ğŸ‡²', president: 'Ù…ÛŒÙ† Ø¢Ù†Ú¯ Ù‡Ù„Ø§ÛŒÙ†Ú¯', money: 20000, population: 55000000, army: 3500, technology: 30, dailyIncome: 800, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                srilanka: { name: 'Ø³Ø±ÛŒâ€ŒÙ„Ø§Ù†Ú©Ø§', flag: 'ğŸ‡±ğŸ‡°', president: 'Ø±Ø§Ù†ÛŒÙ„ ÙˆÛŒÚ©Ø±Ù…Ø³ÛŒÙ†Ú¯Ù‡', money: 15000, population: 22000000, army: 1500, technology: 40, dailyIncome: 600, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                nepal: { name: 'Ù†Ù¾Ø§Ù„', flag: 'ğŸ‡³ğŸ‡µ', president: 'Ø±Ø§Ù… Ú†Ù†Ø¯Ø±Ø§ Ù¾ÙˆØ¯Ù„', money: 12000, population: 30000000, army: 800, technology: 25, dailyIncome: 400, centrifuges: 0, missiles: 1, nuclearProgram: 0 },
                afghanistan: { name: 'Ø§ÙØºØ§Ù†Ø³ØªØ§Ù†', flag: 'ğŸ‡¦ğŸ‡«', president: 'Ù‡ÛŒØ¨Øªâ€ŒØ§Ù„Ù„Ù‡ Ø¢Ø®ÙˆÙ†Ø¯Ø²Ø§Ø¯Ù‡', money: 8000, population: 40000000, army: 5000, technology: 20, dailyIncome: 300, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                
                // Ø®Ø§ÙˆØ±Ù…ÛŒØ§Ù†Ù‡
                iran: { name: 'Ø§ÛŒØ±Ø§Ù†', flag: 'ğŸ‡®ğŸ‡·', president: 'Ù…Ø³Ø¹ÙˆØ¯ Ù¾Ø²Ø´Ú©ÛŒØ§Ù†', money: 65000, population: 86000000, army: 6000, technology: 45, dailyIncome: 3500, centrifuges: 8, missiles: 35, nuclearProgram: 65 },
                turkey: { name: 'ØªØ±Ú©ÛŒÙ‡', flag: 'ğŸ‡¹ğŸ‡·', president: 'Ø±Ø¬Ø¨ Ø·ÛŒØ¨ Ø§Ø±Ø¯ÙˆØºØ§Ù†', money: 85000, population: 85000000, army: 5500, technology: 65, dailyIncome: 4500, centrifuges: 0, missiles: 25, nuclearProgram: 0 },
                israel: { name: 'Ø§Ø³Ø±Ø§Ø¦ÛŒÙ„', flag: 'ğŸ‡®ğŸ‡±', president: 'Ø¨Ù†ÛŒØ§Ù…ÛŒÙ† Ù†ØªØ§Ù†ÛŒØ§Ù‡Ùˆ', money: 100000, population: 10000000, army: 5500, technology: 94, dailyIncome: 5500, centrifuges: 0, missiles: 60, nuclearProgram: 95 },
                saudiarabia: { name: 'Ø¹Ø±Ø¨Ø³ØªØ§Ù†', flag: 'ğŸ‡¸ğŸ‡¦', president: 'Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ù„Ù…Ø§Ù†', money: 140000, population: 37000000, army: 6500, technology: 60, dailyIncome: 8000, centrifuges: 0, missiles: 30, nuclearProgram: 0 },
                uae: { name: 'Ø§Ù…Ø§Ø±Ø§Øª', flag: 'ğŸ‡¦ğŸ‡ª', president: 'Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø²Ø§ÛŒØ¯', money: 120000, population: 10000000, army: 2500, technology: 75, dailyIncome: 6000, centrifuges: 0, missiles: 15, nuclearProgram: 0 },
                qatar: { name: 'Ù‚Ø·Ø±', flag: 'ğŸ‡¶ğŸ‡¦', president: 'ØªÙ…ÛŒÙ… Ø¨Ù† Ø­Ù…Ø¯', money: 95000, population: 3000000, army: 800, technology: 70, dailyIncome: 4500, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                kuwait: { name: 'Ú©ÙˆÛŒØª', flag: 'ğŸ‡°ğŸ‡¼', president: 'Ù†ÙˆØ§Ù Ø§Ù„Ø§Ø­Ù…Ø¯', money: 75000, population: 4500000, army: 1200, technology: 65, dailyIncome: 3500, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                bahrain: { name: 'Ø¨Ø­Ø±ÛŒÙ†', flag: 'ğŸ‡§ğŸ‡­', president: 'Ø­Ù…Ø¯ Ø¨Ù† Ø¹ÛŒØ³ÛŒ', money: 35000, population: 1800000, army: 600, technology: 60, dailyIncome: 1500, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                oman: { name: 'Ø¹Ù…Ø§Ù†', flag: 'ğŸ‡´ğŸ‡²', president: 'Ù‡ÛŒØ«Ù… Ø¨Ù† Ø·Ø§Ø±Ù‚', money: 45000, population: 5200000, army: 1500, technology: 55, dailyIncome: 2000, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                jordan: { name: 'Ø§Ø±Ø¯Ù†', flag: 'ğŸ‡¯ğŸ‡´', president: 'Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø¯ÙˆÙ…', money: 25000, population: 11000000, army: 2000, technology: 50, dailyIncome: 1200, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                lebanon: { name: 'Ù„Ø¨Ù†Ø§Ù†', flag: 'ğŸ‡±ğŸ‡§', president: 'Ù…ÛŒØ´Ù„ Ø¹ÙˆÙ†', money: 15000, population: 7000000, army: 1200, technology: 45, dailyIncome: 600, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                syria: { name: 'Ø³ÙˆØ±ÛŒÙ‡', flag: 'ğŸ‡¸ğŸ‡¾', president: 'Ø¨Ø´Ø§Ø± Ø§Ø³Ø¯', money: 12000, population: 22000000, army: 3500, technology: 35, dailyIncome: 500, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                iraq: { name: 'Ø¹Ø±Ø§Ù‚', flag: 'ğŸ‡®ğŸ‡¶', president: 'Ù…Ø­Ù…Ø¯ Ø´ÛŒØ§Ø¹ Ø§Ù„Ø³ÙˆØ¯Ø§Ù†ÛŒ', money: 35000, population: 42000000, army: 4000, technology: 40, dailyIncome: 1800, centrifuges: 0, missiles: 10, nuclearProgram: 0 },
                yemen: { name: 'ÛŒÙ…Ù†', flag: 'ğŸ‡¾ğŸ‡ª', president: 'Ø±Ø´Ø§Ø¯ Ø§Ù„Ø¹Ù„ÛŒÙ…ÛŒ', money: 8000, population: 31000000, army: 2500, technology: 25, dailyIncome: 300, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                
                // Ø¢ÙØ±ÛŒÙ‚Ø§
                egypt: { name: 'Ù…ØµØ±', flag: 'ğŸ‡ªğŸ‡¬', president: 'Ø¹Ø¨Ø¯Ø§Ù„ÙØªØ§Ø­ Ø§Ù„Ø³ÛŒØ³ÛŒ', money: 55000, population: 108000000, army: 7000, technology: 40, dailyIncome: 3000, centrifuges: 0, missiles: 15, nuclearProgram: 0 },
                southafrica: { name: 'Ø¢ÙØ±ÛŒÙ‚Ø§ÛŒ Ø¬Ù†ÙˆØ¨ÛŒ', flag: 'ğŸ‡¿ğŸ‡¦', president: 'Ø³ÛŒØ±ÛŒÙ„ Ø±Ø§Ù…Ø§Ù¾ÙˆØ²Ø§', money: 50000, population: 60000000, army: 3000, technology: 55, dailyIncome: 2500, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                nigeria: { name: 'Ù†ÛŒØ¬Ø±ÛŒÙ‡', flag: 'ğŸ‡³ğŸ‡¬', president: 'Ø¨ÙˆÙ„Ø§ ØªÛŒÙ†ÙˆØ¨Ùˆ', money: 45000, population: 225000000, army: 5000, technology: 35, dailyIncome: 2200, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                kenya: { name: 'Ú©Ù†ÛŒØ§', flag: 'ğŸ‡°ğŸ‡ª', president: 'ÙˆÛŒÙ„ÛŒØ§Ù… Ø±ÙˆØªÙˆ', money: 25000, population: 56000000, army: 2000, technology: 30, dailyIncome: 1200, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                ethiopia: { name: 'Ø§ØªÛŒÙˆÙ¾ÛŒ', flag: 'ğŸ‡ªğŸ‡¹', president: 'Ø¢Ø¨ÛŒ Ø§Ø­Ù…Ø¯', money: 20000, population: 120000000, army: 3500, technology: 25, dailyIncome: 800, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                morocco: { name: 'Ù…Ø±Ø§Ú©Ø´', flag: 'ğŸ‡²ğŸ‡¦', president: 'Ù…Ø­Ù…Ø¯ Ø´Ø´Ù…', money: 35000, population: 38000000, army: 2500, technology: 45, dailyIncome: 1800, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                algeria: { name: 'Ø§Ù„Ø¬Ø²Ø§ÛŒØ±', flag: 'ğŸ‡©ğŸ‡¿', president: 'Ø¹Ø¨Ø¯Ø§Ù„Ù…Ø¬ÛŒØ¯ ØªØ¨ÙˆÙ†', money: 40000, population: 45000000, army: 3000, technology: 40, dailyIncome: 2000, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                tunisia: { name: 'ØªÙˆÙ†Ø³', flag: 'ğŸ‡¹ğŸ‡³', president: 'Ù‚ÛŒØ³ Ø³Ø¹ÛŒØ¯', money: 20000, population: 12000000, army: 1200, technology: 50, dailyIncome: 1000, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                libya: { name: 'Ù„ÛŒØ¨ÛŒ', flag: 'ğŸ‡±ğŸ‡¾', president: 'Ø¹Ø¨Ø¯Ø§Ù„Ø­Ù…ÛŒØ¯ Ø¯Ø¨ÛŒØ¨Ù‡', money: 25000, population: 7000000, army: 2000, technology: 35, dailyIncome: 1200, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                sudan: { name: 'Ø³ÙˆØ¯Ø§Ù†', flag: 'ğŸ‡¸ğŸ‡©', president: 'Ø¹Ø¨Ø¯Ø§Ù„ÙØªØ§Ø­ Ø§Ù„Ø¨Ø±Ù‡Ø§Ù†', money: 15000, population: 47000000, army: 3000, technology: 25, dailyIncome: 600, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                
                // Ø¢Ù…Ø±ÛŒÚ©Ø§
                canada: { name: 'Ú©Ø§Ù†Ø§Ø¯Ø§', flag: 'ğŸ‡¨ğŸ‡¦', president: 'Ø¬Ø§Ø³ØªÛŒÙ† ØªØ±ÙˆØ¯Ùˆ', money: 120000, population: 40000000, army: 2200, technology: 88, dailyIncome: 6500, centrifuges: 0, missiles: 10, nuclearProgram: 0 },
                mexico: { name: 'Ù…Ú©Ø²ÛŒÚ©', flag: 'ğŸ‡²ğŸ‡½', president: 'Ø¢Ù†Ø¯Ø±Ø³ Ù„ÙˆÙ¾Ø²', money: 75000, population: 130000000, army: 4000, technology: 60, dailyIncome: 3500, centrifuges: 0, missiles: 8, nuclearProgram: 0 },
                brazil: { name: 'Ø¨Ø±Ø²ÛŒÙ„', flag: 'ğŸ‡§ğŸ‡·', president: 'Ù„ÙˆÙ„Ø§ Ø¯Ø§ Ø³ÛŒÙ„ÙˆØ§', money: 90000, population: 218000000, army: 5000, technology: 60, dailyIncome: 4500, centrifuges: 0, missiles: 15, nuclearProgram: 0 },
                argentina: { name: 'Ø¢Ø±Ú˜Ø§Ù†ØªÛŒÙ†', flag: 'ğŸ‡¦ğŸ‡·', president: 'Ø®Ø§ÙˆÛŒØ± Ù…ÛŒÙ„ÛŒ', money: 55000, population: 46000000, army: 2500, technology: 65, dailyIncome: 2800, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                chile: { name: 'Ø´ÛŒÙ„ÛŒ', flag: 'ğŸ‡¨ğŸ‡±', president: 'Ú¯Ø§Ø¨Ø±ÛŒÙ„ Ø¨ÙˆØ±ÛŒÚ†', money: 45000, population: 20000000, army: 1800, technology: 70, dailyIncome: 2500, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                colombia: { name: 'Ú©Ù„Ù…Ø¨ÛŒØ§', flag: 'ğŸ‡¨ğŸ‡´', president: 'Ú¯ÙˆØ³ØªØ§ÙˆÙˆ Ù¾ØªØ±Ùˆ', money: 40000, population: 52000000, army: 3000, technology: 55, dailyIncome: 2200, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                peru: { name: 'Ù¾Ø±Ùˆ', flag: 'ğŸ‡µğŸ‡ª', president: 'Ø¯ÛŒÙ†Ø§ Ø¨ÙˆÙ„ÙˆØ§Ø±ØªÙ‡', money: 30000, population: 34000000, army: 2000, technology: 50, dailyIncome: 1500, centrifuges: 0, missiles: 3, nuclearProgram: 0 },
                venezuela: { name: 'ÙˆÙ†Ø²ÙˆØ¦Ù„Ø§', flag: 'ğŸ‡»ğŸ‡ª', president: 'Ù†ÛŒÚ©ÙˆÙ„Ø§Ø³ Ù…Ø§Ø¯ÙˆØ±Ùˆ', money: 25000, population: 28000000, army: 2500, technology: 40, dailyIncome: 1200, centrifuges: 0, missiles: 6, nuclearProgram: 0 },
                ecuador: { name: 'Ø§Ú©ÙˆØ§Ø¯ÙˆØ±', flag: 'ğŸ‡ªğŸ‡¨', president: 'Ø¯Ø§Ù†ÛŒÙ„ Ù†ÙˆØ¨ÙˆØ¢', money: 20000, population: 18000000, army: 1200, technology: 45, dailyIncome: 1000, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                bolivia: { name: 'Ø¨ÙˆÙ„ÛŒÙˆÛŒ', flag: 'ğŸ‡§ğŸ‡´', president: 'Ù„ÙˆØ¦ÛŒØ³ Ø¢Ø±Ø³Ù‡', money: 15000, population: 12000000, army: 1000, technology: 35, dailyIncome: 600, centrifuges: 0, missiles: 1, nuclearProgram: 0 },
                
                // Ø§Ù‚ÛŒØ§Ù†ÙˆØ³ÛŒÙ‡
                australia: { name: 'Ø§Ø³ØªØ±Ø§Ù„ÛŒØ§', flag: 'ğŸ‡¦ğŸ‡º', president: 'Ø¢Ù†ØªÙˆÙ†ÛŒ Ø¢Ù„Ø¨Ø§Ù†ÛŒØ²', money: 105000, population: 27000000, army: 2500, technology: 85, dailyIncome: 5500, centrifuges: 0, missiles: 12, nuclearProgram: 0 },
                newzealand: { name: 'Ù†ÛŒÙˆØ²ÛŒÙ„Ù†Ø¯', flag: 'ğŸ‡³ğŸ‡¿', president: 'Ú©Ø±ÛŒØ³ Ù‡ÛŒÙ¾Ú©ÛŒÙ†Ø²', money: 45000, population: 5200000, army: 800, technology: 80, dailyIncome: 2500, centrifuges: 0, missiles: 2, nuclearProgram: 0 },
                
                // Ú©Ø´ÙˆØ±Ù‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ø¢Ø³ÛŒØ§
                pakistan: { name: 'Ù¾Ø§Ú©Ø³ØªØ§Ù†', flag: 'ğŸ‡µğŸ‡°', president: 'Ø´Ù‡Ø¨Ø§Ø² Ø´Ø±ÛŒÙ', money: 50000, population: 240000000, army: 8000, technology: 45, dailyIncome: 2800, centrifuges: 0, missiles: 40, nuclearProgram: 80 },
                kazakhstan: { name: 'Ù‚Ø²Ø§Ù‚Ø³ØªØ§Ù†', flag: 'ğŸ‡°ğŸ‡¿', president: 'Ù‚Ø§Ø³Ù… ØªÙˆÚ©Ø§ÛŒÙ', money: 45000, population: 20000000, army: 2000, technology: 55, dailyIncome: 2200, centrifuges: 0, missiles: 5, nuclearProgram: 0 },
                uzbekistan: { name: 'Ø§Ø²Ø¨Ú©Ø³ØªØ§Ù†', flag: 'ğŸ‡ºğŸ‡¿', president: 'Ø´ÙˆÚ©Øª Ù…ÛŒØ±Ø¶ÛŒØ§ÛŒÙ', money: 25000, population: 35000000, army: 2500, technology: 40, dailyIncome: 1200, centrifuges: 0, missiles: 4, nuclearProgram: 0 },
                mongolia: { name: 'Ù…ØºÙˆÙ„Ø³ØªØ§Ù†', flag: 'ğŸ‡²ğŸ‡³', president: 'Ø§Ø®Ù„ØªÚ¯ÛŒÙ† Ø¨Ø§ØªØªÙˆÙ„Ú¯Ø§', money: 15000, population: 3400000, army: 800, technology: 45, dailyIncome: 600, centrifuges: 0, missiles: 1, nuclearProgram: 0 }
            },
            selectedEnemy: null,
            worldNews: []
        };

        // Enhanced User Profile with Permanent Account System
        let userProfile = {
            username: '',
            avatar: 'ğŸ‘¤',
            level: 1,
            xp: 0,
            gamesPlayed: 0,
            warsWon: 0,
            totalMoney: 0,
            totalWars: 0,
            achievements: [],
            joinDate: Date.now(),
            profileId: generateUniqueId(),
            selectedCountry: null,
            permanentCountry: null, // Country locked forever
            lastActive: Date.now(),
            ipAddress: 'Unknown',
            deviceInfo: navigator.userAgent || 'Unknown',
            savedGames: []
        };

        // Available avatars
        const avatars = ['ğŸ‘¤', 'ğŸ‘¨', 'ğŸ‘©', 'ğŸ§‘', 'ğŸ‘¨â€ğŸ’¼', 'ğŸ‘©â€ğŸ’¼', 'ğŸ‘¨â€ğŸ“', 'ğŸ‘©â€ğŸ“', 'ğŸ‘¨â€âš–ï¸', 'ğŸ‘©â€âš–ï¸', 'ğŸ‘¨â€ğŸ”¬', 'ğŸ‘©â€ğŸ”¬', 'ğŸ‘¨â€ğŸ’»', 'ğŸ‘©â€ğŸ’»', 'ğŸ‘¨â€ğŸ¨', 'ğŸ‘©â€ğŸ¨'];
        let selectedAvatar = 'ğŸ‘¤';

        // Admin passwords
        const adminPasswords = ['admin123', 'Ù…Ø¯ÛŒØ±', 'manager', '1234567890', 'password'];

        // Achievements
        const achievementsList = [
            { id: 'first_game', name: 'Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø²ÛŒ', description: 'Ø§ÙˆÙ„ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯ÛŒØ¯', icon: 'ğŸ®', xp: 100 },
            { id: 'first_war', name: 'Ø¬Ù†Ú¯Ø¬ÙˆÛŒ ØªØ§Ø²Ù‡â€ŒÚ©Ø§Ø±', description: 'Ø§ÙˆÙ„ÛŒÙ† Ø¬Ù†Ú¯ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø¯Ù‡ Ø´Ø¯ÛŒØ¯', icon: 'âš”ï¸', xp: 200 },
            { id: 'rich_player', name: 'Ù…ÛŒÙ„ÛŒÙˆÙ†Ø±', description: '1 Ù…ÛŒÙ„ÛŒÙˆÙ† Ø¯Ù„Ø§Ø± Ú©Ø³Ø¨ Ú©Ø±Ø¯ÛŒØ¯', icon: 'ğŸ’°', xp: 300 },
            { id: 'tech_master', name: 'Ø§Ø³ØªØ§Ø¯ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ', description: 'ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ 80% Ø±Ø³ÛŒØ¯ÛŒØ¯', icon: 'ğŸ’»', xp: 250 },
            { id: 'population_boom', name: 'Ø§Ù†ÙØ¬Ø§Ø± Ø¬Ù…Ø¹ÛŒØª', description: 'Ø¬Ù…Ø¹ÛŒØª 100 Ù…ÛŒÙ„ÛŒÙˆÙ† Ù†ÙØ± Ø±Ø³ÛŒØ¯ÛŒØ¯', icon: 'ğŸ‘¥', xp: 200 },
            { id: 'war_veteran', name: 'Ú©Ù‡Ù†Ù‡â€ŒØ³Ø±Ø¨Ø§Ø²', description: '10 Ø¬Ù†Ú¯ Ø¨Ø±Ø¯Ù‡ Ø´Ø¯ÛŒØ¯', icon: 'ğŸ†', xp: 500 },
            { id: 'economic_power', name: 'Ù‚Ø¯Ø±Øª Ø§Ù‚ØªØµØ§Ø¯ÛŒ', description: 'Ø¯Ø±Ø¢Ù…Ø¯ Ø±ÙˆØ²Ø§Ù†Ù‡ 10K Ø±Ø³ÛŒØ¯ÛŒØ¯', icon: 'ğŸ­', xp: 300 }
        ];

        // Daily World News Data
        const dailyWorldNews = [
            "ğŸ‡ºğŸ‡¸ Ø¢Ù…Ø±ÛŒÚ©Ø§ ØªØ­Ø±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ÛŒ Ø¹Ù„ÛŒÙ‡ Ú†ÛŒÙ† Ø§Ø¹Ù…Ø§Ù„ Ú©Ø±Ø¯",
            "ğŸ‡·ğŸ‡º Ø±ÙˆØ³ÛŒÙ‡ ØªÙˆÙ„ÛŒØ¯ Ú¯Ø§Ø² Ø®ÙˆØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡¨ğŸ‡³ Ú†ÛŒÙ† Ø¯Ø± Ø­Ø§Ù„ ØªÙˆØ³Ø¹Ù‡ ÙÙ†Ø§ÙˆØ±ÛŒ Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ø§Ø³Øª",
            "ğŸ‡®ğŸ‡· Ø§ÛŒØ±Ø§Ù† Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
            "ğŸ‡®ğŸ‡± Ø§Ø³Ø±Ø§Ø¦ÛŒÙ„ Ø³ÛŒØ³ØªÙ… Ø¯ÙØ§Ø¹ Ù…ÙˆØ´Ú©ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¢Ø²Ù…Ø§ÛŒØ´ Ú©Ø±Ø¯",
            "ğŸ‡¹ğŸ‡· ØªØ±Ú©ÛŒÙ‡ Ø¨Ø§ Ú©Ø´ÙˆØ±Ù‡Ø§ÛŒ Ù‡Ù…Ø³Ø§ÛŒÙ‡ ØªÙˆØ§ÙÙ‚ ØªØ¬Ø§Ø±ÛŒ Ø§Ù…Ø¶Ø§ Ú©Ø±Ø¯",
            "ğŸ‡¸ğŸ‡¦ Ø¹Ø±Ø¨Ø³ØªØ§Ù† Ø¯Ø± Ø§Ù†Ø±Ú˜ÛŒâ€ŒÙ‡Ø§ÛŒ ØªØ¬Ø¯ÛŒØ¯Ù¾Ø°ÛŒØ± Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ú©Ø±Ø¯",
            "ğŸ‡°ğŸ‡µ Ú©Ø±Ù‡ Ø´Ù…Ø§Ù„ÛŒ Ù…ÙˆØ´Ú© Ø¨Ø§Ù„Ø³ØªÛŒÚ© Ø¬Ø¯ÛŒØ¯ Ø¢Ø²Ù…Ø§ÛŒØ´ Ú©Ø±Ø¯",
            "ğŸ‡¯ğŸ‡µ Ú˜Ø§Ù¾Ù† ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ú©ÙˆØ§Ù†ØªÙˆÙ… ØªÙˆØ³Ø¹Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
            "ğŸ‡©ğŸ‡ª Ø¢Ù„Ù…Ø§Ù† ØµØ§Ø¯Ø±Ø§Øª Ø®ÙˆØ¯ Ø¨Ù‡ Ø¢Ø³ÛŒØ§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡«ğŸ‡· ÙØ±Ø§Ù†Ø³Ù‡ Ù†ÛŒØ±ÙˆÚ¯Ø§Ù‡ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ Ø¬Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯",
            "ğŸ‡¬ğŸ‡§ Ø§Ù†Ú¯Ù„Ø³ØªØ§Ù† ØªÙˆØ§ÙÙ‚ ØªØ¬Ø§Ø±ÛŒ Ø¬Ø¯ÛŒØ¯ Ø§Ù…Ø¶Ø§ Ú©Ø±Ø¯",
            "ğŸ‡®ğŸ‡³ Ù‡Ù†Ø¯ Ø¬Ù…Ø¹ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡§ğŸ‡· Ø¨Ø±Ø²ÛŒÙ„ Ø¬Ù†Ú¯Ù„â€ŒÙ‡Ø§ÛŒ Ø¢Ù…Ø§Ø²ÙˆÙ† Ø±Ø§ Ø­ÙØ§Ø¸Øª Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡¦ğŸ‡º Ø§Ø³ØªØ±Ø§Ù„ÛŒØ§ Ù…Ø¹Ø§Ø¯Ù† Ø¬Ø¯ÛŒØ¯ Ú©Ø´Ù Ú©Ø±Ø¯",
            "ğŸ‡¨ğŸ‡¦ Ú©Ø§Ù†Ø§Ø¯Ø§ ØµØ§Ø¯Ø±Ø§Øª Ù†ÙØª Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡²ğŸ‡½ Ù…Ú©Ø²ÛŒÚ© Ø¨Ø§ Ø¢Ù…Ø±ÛŒÚ©Ø§ ØªÙˆØ§ÙÙ‚ Ù…Ø±Ø²ÛŒ Ø§Ù…Ø¶Ø§ Ú©Ø±Ø¯",
            "ğŸ‡ªğŸ‡¬ Ù…ØµØ± Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù†Ø§Ù„ Ø³ÙˆØ¦Ø² Ø±Ø§ Ú¯Ø³ØªØ±Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
            "ğŸ‡¿ğŸ‡¦ Ø¢ÙØ±ÛŒÙ‚Ø§ÛŒ Ø¬Ù†ÙˆØ¨ÛŒ Ù…Ø¹Ø§Ø¯Ù† Ø·Ù„Ø§ Ú©Ø´Ù Ú©Ø±Ø¯",
            "ğŸ‡³ğŸ‡¬ Ù†ÛŒØ¬Ø±ÛŒÙ‡ ØªÙˆÙ„ÛŒØ¯ Ù†ÙØª Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡¦ğŸ‡ª Ø§Ù…Ø§Ø±Ø§Øª Ø´Ù‡Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø¬Ø¯ÛŒØ¯ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯",
            "ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø± Ø¨Ø±Ø§ÛŒ Ø¬Ø§Ù… Ø¬Ù‡Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯",
            "ğŸ‡°ğŸ‡¼ Ú©ÙˆÛŒØª Ù¾Ø§Ù„Ø§ÛŒØ´Ú¯Ø§Ù‡ Ø¬Ø¯ÛŒØ¯ Ø§ÙØªØªØ§Ø­ Ú©Ø±Ø¯",
            "ğŸ‡´ğŸ‡² Ø¹Ù…Ø§Ù† Ø¨Ù†Ø¯Ø± ØªØ¬Ø§Ø±ÛŒ Ø¬Ø¯ÛŒØ¯ Ø³Ø§Ø®Øª",
            "ğŸ‡¯ğŸ‡´ Ø§Ø±Ø¯Ù† Ø¢Ø¨ Ø´ÛŒØ±ÛŒÙ†â€ŒÚ©Ù† Ø¯Ø±ÛŒØ§ Ù…ÛŒâ€ŒØ³Ø§Ø²Ø¯",
            "ğŸ‡±ğŸ‡§ Ù„Ø¨Ù†Ø§Ù† Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯",
            "ğŸ‡¸ğŸ‡¾ Ø³ÙˆØ±ÛŒÙ‡ Ø¨Ø§Ø²Ø³Ø§Ø²ÛŒ Ø´Ù‡Ø±Ù‡Ø§ Ø±Ø§ Ø´Ø±ÙˆØ¹ Ú©Ø±Ø¯",
            "ğŸ‡®ğŸ‡¶ Ø¹Ø±Ø§Ù‚ ØªÙˆÙ„ÛŒØ¯ Ù†ÙØª Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡¦ğŸ‡« Ø§ÙØºØ§Ù†Ø³ØªØ§Ù† Ú©Ù…Ú©â€ŒÙ‡Ø§ÛŒ Ø¨Ø´Ø±Ø¯ÙˆØ³ØªØ§Ù†Ù‡ Ø¯Ø±ÛŒØ§ÙØª Ú©Ø±Ø¯",
            "ğŸ‡µğŸ‡° Ù¾Ø§Ú©Ø³ØªØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§Ù‡ Ø§Ø¨Ø±ÛŒØ´Ù… Ú¯Ø³ØªØ±Ø´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯",
            "ğŸ‡§ğŸ‡© Ø¨Ù†Ú¯Ù„Ø§Ø¯Ø´ ØµÙ†Ø§ÛŒØ¹ Ù†Ø³Ø§Ø¬ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡±ğŸ‡° Ø³Ø±ÛŒâ€ŒÙ„Ø§Ù†Ú©Ø§ Ø¨Ø­Ø±Ø§Ù† Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø±Ø§ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡²ğŸ‡² Ù…ÛŒØ§Ù†Ù…Ø§Ø± Ø¯Ø±Ú¯ÛŒØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯Ø§Ø®Ù„ÛŒ Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø±Ø¯",
            "ğŸ‡¹ğŸ‡­ ØªØ§ÛŒÙ„Ù†Ø¯ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø±Ø§ Ø¨Ø§Ø²Ú¯Ø´Ø§ÛŒÛŒ Ú©Ø±Ø¯",
            "ğŸ‡»ğŸ‡³ ÙˆÛŒØªÙ†Ø§Ù… ØµØ§Ø¯Ø±Ø§Øª Ø¨Ø±Ù†Ø¬ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡µğŸ‡­ ÙÛŒÙ„ÛŒÙ¾ÛŒÙ† Ø¨Ø§ Ø·ÙˆÙØ§Ù† Ù…Ø¨Ø§Ø±Ø²Ù‡ Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡²ğŸ‡¾ Ù…Ø§Ù„Ø²ÛŒ ØµÙ†Ø§ÛŒØ¹ Ù†ÛŒÙ…Ù‡â€ŒÙ‡Ø§Ø¯ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡¸ğŸ‡¬ Ø³Ù†Ú¯Ø§Ù¾ÙˆØ± Ù…Ø±Ú©Ø² Ù…Ø§Ù„ÛŒ Ø¢Ø³ÛŒØ§ Ø´Ø¯",
            "ğŸ‡®ğŸ‡© Ø§Ù†Ø¯ÙˆÙ†Ø²ÛŒ Ø¢ØªØ´ÙØ´Ø§Ù† ÙØ¹Ø§Ù„ Ø´Ø¯",
            "ğŸ‡°ğŸ‡· Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ 5G Ú¯Ø³ØªØ±Ø´ Ø¯Ø§Ø¯",
            "ğŸ‡°ğŸ‡¿ Ù‚Ø²Ø§Ù‚Ø³ØªØ§Ù† Ø§ÙˆØ±Ø§Ù†ÛŒÙˆÙ… Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø±Ø¯",
            "ğŸ‡ºğŸ‡¿ Ø§Ø²Ø¨Ú©Ø³ØªØ§Ù† Ú¯Ø§Ø² Ø·Ø¨ÛŒØ¹ÛŒ ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡²ğŸ‡³ Ù…ØºÙˆÙ„Ø³ØªØ§Ù† Ù…Ø¹Ø§Ø¯Ù† Ù…Ø³ Ú©Ø´Ù Ú©Ø±Ø¯",
            "ğŸ‡ªğŸ‡¹ Ø§ØªÛŒÙˆÙ¾ÛŒ Ø³Ø¯ Ø¬Ø¯ÛŒØ¯ Ø³Ø§Ø®Øª",
            "ğŸ‡°ğŸ‡ª Ú©Ù†ÛŒØ§ Ø§Ù†Ø±Ú˜ÛŒ Ø®ÙˆØ±Ø´ÛŒØ¯ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡³ğŸ‡¬ Ù†ÛŒØ¬Ø±ÛŒÙ‡ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø´Ø¯ Ú©Ø±Ø¯",
            "ğŸ‡²ğŸ‡¦ Ù…Ø±Ø§Ú©Ø´ Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ø§Ø¯ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡©ğŸ‡¿ Ø§Ù„Ø¬Ø²Ø§ÛŒØ± Ú¯Ø§Ø² Ø·Ø¨ÛŒØ¹ÛŒ ØµØ§Ø¯Ø± Ú©Ø±Ø¯",
            "ğŸ‡¹ğŸ‡³ ØªÙˆÙ†Ø³ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø®Ø´ÛŒØ¯",
            "ğŸ‡±ğŸ‡¾ Ù„ÛŒØ¨ÛŒ ØªÙˆÙ„ÛŒØ¯ Ù†ÙØª Ø§Ø² Ø³Ø± Ú¯Ø±ÙØª",
            "ğŸ‡¸ğŸ‡© Ø³ÙˆØ¯Ø§Ù† Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ø±Ø§ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡¦ğŸ‡· Ø¢Ø±Ú˜Ø§Ù†ØªÛŒÙ† Ú¯ÙˆØ´Øª ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡¨ğŸ‡± Ø´ÛŒÙ„ÛŒ Ù…Ø³ Ø¨ÛŒØ´ØªØ±ÛŒ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø±Ø¯",
            "ğŸ‡¨ğŸ‡´ Ú©Ù„Ù…Ø¨ÛŒØ§ Ù‚Ù‡ÙˆÙ‡ ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡µğŸ‡ª Ù¾Ø±Ùˆ Ø·Ù„Ø§ Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø±Ø¯",
            "ğŸ‡»ğŸ‡ª ÙˆÙ†Ø²ÙˆØ¦Ù„Ø§ Ù†ÙØª Ø¨ÛŒØ´ØªØ±ÛŒ ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ø¯",
            "ğŸ‡ªğŸ‡¨ Ø§Ú©ÙˆØ§Ø¯ÙˆØ± Ù…ÙˆØ² ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡§ğŸ‡´ Ø¨ÙˆÙ„ÛŒÙˆÛŒ Ù„ÛŒØªÛŒÙˆÙ… Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ú©Ø±Ø¯",
            "ğŸ‡³ğŸ‡¿ Ù†ÛŒÙˆØ²ÛŒÙ„Ù†Ø¯ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø¨Ø§Ø²Ú¯Ø´Ø§ÛŒÛŒ Ú©Ø±Ø¯",
            "ğŸ‡µğŸ‡± Ù„Ù‡Ø³ØªØ§Ù† Ø§Ù‚ØªØµØ§Ø¯ Ø±Ø´Ø¯ Ú©Ø±Ø¯",
            "ğŸ‡³ğŸ‡± Ù‡Ù„Ù†Ø¯ ÙÙ†Ø§ÙˆØ±ÛŒ Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡§ğŸ‡ª Ø¨Ù„Ú˜ÛŒÚ© Ù…Ø±Ú©Ø² Ø§Ø±ÙˆÙ¾Ø§ Ø¨Ø§Ù‚ÛŒ Ù…Ø§Ù†Ø¯",
            "ğŸ‡¨ğŸ‡­ Ø³ÙˆØ¦ÛŒØ³ Ø¨Ø§Ù†Ú©Ø¯Ø§Ø±ÛŒ Ø±Ø§ Ø¨Ù‡Ø¨ÙˆØ¯ Ø¨Ø®Ø´ÛŒØ¯",
            "ğŸ‡¦ğŸ‡¹ Ø§ØªØ±ÛŒØ´ Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡¸ğŸ‡ª Ø³ÙˆØ¦Ø¯ ÙÙ†Ø§ÙˆØ±ÛŒ Ø³Ø¨Ø² ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡³ğŸ‡´ Ù†Ø±ÙˆÚ˜ Ù†ÙØª Ø¯Ø±ÛŒØ§ÛŒ Ø´Ù…Ø§Ù„ ØªÙˆÙ„ÛŒØ¯ Ú©Ø±Ø¯",
            "ğŸ‡©ğŸ‡° Ø¯Ø§Ù†Ù…Ø§Ø±Ú© Ø§Ù†Ø±Ú˜ÛŒ Ø¨Ø§Ø¯ÛŒ Ú¯Ø³ØªØ±Ø´ Ø¯Ø§Ø¯",
            "ğŸ‡«ğŸ‡® ÙÙ†Ù„Ø§Ù†Ø¯ ÙÙ†Ø§ÙˆØ±ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø±Ø´Ø¯ Ú©Ø±Ø¯",
            "ğŸ‡¬ğŸ‡· ÛŒÙˆÙ†Ø§Ù† Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØª",
            "ğŸ‡µğŸ‡¹ Ù¾Ø±ØªØºØ§Ù„ Ø§Ù†Ø±Ú˜ÛŒ ØªØ¬Ø¯ÛŒØ¯Ù¾Ø°ÛŒØ± Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡¨ğŸ‡¿ Ú†Ú© ØµÙ†Ø§ÛŒØ¹ Ø®ÙˆØ¯Ø±Ùˆ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯",
            "ğŸ‡­ğŸ‡º Ù…Ø¬Ø§Ø±Ø³ØªØ§Ù† Ø³Ø±Ù…Ø§ÛŒÙ‡â€ŒÚ¯Ø°Ø§Ø±ÛŒ Ø®Ø§Ø±Ø¬ÛŒ Ø¬Ø°Ø¨ Ú©Ø±Ø¯",
            "ğŸ‡·ğŸ‡´ Ø±ÙˆÙ…Ø§Ù†ÛŒ Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØª",
            "ğŸ‡§ğŸ‡¬ Ø¨Ù„ØºØ§Ø±Ø³ØªØ§Ù† Ú¯Ø±Ø¯Ø´Ú¯Ø±ÛŒ Ø§ÙØ²Ø§ÛŒØ´ Ø¯Ø§Ø¯",
            "ğŸ‡­ğŸ‡· Ú©Ø±ÙˆØ§Ø³ÛŒ Ø¨Ù‡ Ø§ØªØ­Ø§Ø¯ÛŒÙ‡ Ø§Ø±ÙˆÙ¾Ø§ Ù¾ÛŒÙˆØ³Øª",
            "ğŸ‡ºğŸ‡¦ Ø§ÙˆÚ©Ø±Ø§ÛŒÙ† ØºÙ„Ø§Øª ØµØ§Ø¯Ø± Ù…ÛŒâ€ŒÚ©Ù†Ø¯",
            "ğŸ‡§ğŸ‡¾ Ø¨Ù„Ø§Ø±ÙˆØ³ Ú©Ø´Ø§ÙˆØ±Ø²ÛŒ ØªÙˆØ³Ø¹Ù‡ Ø¯Ø§Ø¯"
        ];

        // Utility Functions
        function generateUniqueId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
        }

        function getRandomNews(count = 8) {
            const shuffled = [...dailyWorldNews].sort(() => 0.5 - Math.random());
            return shuffled.slice(0, count);
        }

        function showDailyNews() {
            const newsContainer = document.getElementById('daily-news-container');
            const todayNews = getRandomNews(8);
            
            newsContainer.innerHTML = todayNews.map(news => `
                <div class="p-3 bg-blue-800 rounded-lg border-l-4 border-yellow-400">
                    <div class="text-sm text-white">${news}</div>
                    <div class="text-xs text-blue-200 mt-1">Ù…Ù†Ø¨Ø¹: Ø®Ø¨Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø¬Ù‡Ø§Ù†ÛŒ</div>
                </div>
            `).join('');
            
            document.getElementById('start-game-section').style.display = 'none';
            document.getElementById('daily-news-section').style.display = 'block';
        }

        // Utility Functions
        function formatNumber(num) {
            if (num >= 1000000) {
                return (num / 1000000).toFixed(1) + 'M';
            } else if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'K';
            }
            return num.toString();
        }

        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notification-text');
            
            notificationText.textContent = message;
            notification.className = `notification ${type}`;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        // Enhanced Profile Management with 15+ Backup Systems
        function saveProfilePermanently() {
            try {
                const profileData = JSON.stringify(userProfile);
                const gameData = JSON.stringify(gameState);
                const timestamp = Date.now();
                
                // Method 1-5: Multiple localStorage backups
                localStorage.setItem('worldPoliticsProfile_main', profileData);
                localStorage.setItem('worldPoliticsProfile_backup', profileData);
                localStorage.setItem('worldPoliticsProfile_' + timestamp, profileData);
                localStorage.setItem('worldPoliticsGame_main', gameData);
                localStorage.setItem('worldPoliticsGame_backup', gameData);
                
                // Method 6-8: Username and ID based backups
                if (userProfile.username) {
                    localStorage.setItem('worldPoliticsProfile_user_' + userProfile.username, profileData);
                    localStorage.setItem('worldPoliticsGame_user_' + userProfile.username, gameData);
                }
                if (userProfile.profileId) {
                    localStorage.setItem('worldPoliticsProfile_id_' + userProfile.profileId, profileData);
                }
                
                // Method 9-12: Session storage backups
                sessionStorage.setItem('worldPoliticsProfile_session', profileData);
                sessionStorage.setItem('worldPoliticsProfile_session_backup', profileData);
                sessionStorage.setItem('worldPoliticsGame_session', gameData);
                sessionStorage.setItem('worldPoliticsProfile_session_' + timestamp, profileData);
                
                // Save to global players list
                savePlayerToGlobalList();
                
                return true;
            } catch (error) {
                console.error('Error saving profile:', error);
                return false;
            }
        }

        function loadProfilePermanently() {
            try {
                let savedProfile = null;
                let savedGame = null;
                
                // Try all backup methods in order of preference
                const backupMethods = [
                    'worldPoliticsProfile_main',
                    'worldPoliticsProfile_backup',
                    () => sessionStorage.getItem('worldPoliticsProfile_session'),
                    () => sessionStorage.getItem('worldPoliticsProfile_session_backup')
                ];

                // Try each backup method
                for (const method of backupMethods) {
                    if (typeof method === 'string') {
                        savedProfile = localStorage.getItem(method);
                    } else {
                        savedProfile = method();
                    }
                    if (savedProfile) break;
                }

                // Try to load game state
                const gameMethods = [
                    'worldPoliticsGame_main',
                    'worldPoliticsGame_backup',
                    () => sessionStorage.getItem('worldPoliticsGame_session')
                ];

                for (const method of gameMethods) {
                    if (typeof method === 'string') {
                        savedGame = localStorage.getItem(method);
                    } else {
                        savedGame = method();
                    }
                    if (savedGame) break;
                }

                if (savedProfile) {
                    const parsed = JSON.parse(savedProfile);
                    userProfile = { ...userProfile, ...parsed };
                    
                    if (savedGame) {
                        const parsedGame = JSON.parse(savedGame);
                        gameState = { ...gameState, ...parsedGame };
                    }
                    
                    // Ensure profile has required fields
                    if (!userProfile.profileId) {
                        userProfile.profileId = generateUniqueId();
                    }
                    if (!userProfile.joinDate) {
                        userProfile.joinDate = Date.now();
                    }
                    userProfile.lastActive = Date.now();
                    
                    // Re-save with all methods
                    saveProfilePermanently();
                    return true;
                }
                return false;
            } catch (error) {
                console.error('Error loading profile:', error);
                return false;
            }
        }

        function savePlayerToGlobalList() {
            try {
                let allPlayers = JSON.parse(localStorage.getItem('worldPolitics_allPlayers') || '[]');
                
                const playerData = {
                    username: userProfile.username,
                    avatar: userProfile.avatar,
                    selectedCountry: gameState.selectedCountry,
                    permanentCountry: userProfile.permanentCountry,
                    countryName: gameState.selectedCountry ? gameState.countries[gameState.selectedCountry].name : 'Ù‡ÛŒÚ†',
                    countryFlag: gameState.selectedCountry ? gameState.countries[gameState.selectedCountry].flag : 'â“',
                    isPermanent: userProfile.permanentCountry ? true : false,
                    level: userProfile.level,
                    xp: userProfile.xp,
                    gamesPlayed: userProfile.gamesPlayed,
                    warsWon: userProfile.warsWon,
                    totalMoney: userProfile.totalMoney,
                    joinDate: userProfile.joinDate,
                    lastActive: Date.now(),
                    profileId: userProfile.profileId,
                    gameDay: gameState.day || 1,
                    currentMoney: gameState.selectedCountry ? gameState.countries[gameState.selectedCountry].money : 0,
                    currentArmy: gameState.selectedCountry ? gameState.countries[gameState.selectedCountry].army : 0,
                    currentPopulation: gameState.selectedCountry ? gameState.countries[gameState.selectedCountry].population : 0
                };

                // Remove existing entry for this user
                allPlayers = allPlayers.filter(p => p.profileId !== userProfile.profileId);
                
                // Add updated entry
                allPlayers.unshift(playerData);
                
                // Keep only last 100 players
                if (allPlayers.length > 100) {
                    allPlayers = allPlayers.slice(0, 100);
                }
                
                localStorage.setItem('worldPolitics_allPlayers', JSON.stringify(allPlayers));
                localStorage.setItem('worldPolitics_players_backup', JSON.stringify(allPlayers));
                sessionStorage.setItem('worldPolitics_players_session', JSON.stringify(allPlayers));
                
                return true;
            } catch (error) {
                console.error('Error saving player to global list:', error);
                return false;
            }
        }

        function getAllPlayers() {
            try {
                let allPlayers = JSON.parse(localStorage.getItem('worldPolitics_allPlayers') || '[]');
                
                if (allPlayers.length === 0) {
                    allPlayers = JSON.parse(localStorage.getItem('worldPolitics_players_backup') || '[]');
                }
                
                if (allPlayers.length === 0) {
                    allPlayers = JSON.parse(sessionStorage.getItem('worldPolitics_players_session') || '[]');
                }
                
                return allPlayers;
            } catch (error) {
                console.error('Error getting all players:', error);
                return [];
            }
        }

        // Enhanced Auto-Save System
        function startEnhancedAutoSave() {
            // Save every 5 seconds
            setInterval(() => {
                if (userProfile.username) {
                    saveProfilePermanently();
                }
            }, 5000);
            
            // Save on any user interaction
            document.addEventListener('click', () => {
                if (userProfile.username) {
                    setTimeout(() => saveProfilePermanently(), 100);
                }
            });
            
            // Save when leaving page
            window.addEventListener('beforeunload', () => {
                if (userProfile.username) {
                    saveProfilePermanently();
                    localStorage.setItem('worldPolitics_emergency_exit_' + Date.now(), JSON.stringify(userProfile));
                }
            });
            
            // Save on visibility change
            document.addEventListener('visibilitychange', () => {
                if (userProfile.username) {
                    saveProfilePermanently();
                }
            });
        }

        // Profile Management Functions
        function createProfile() {
            const usernameInput = document.getElementById('username-input');
            const username = usernameInput.value.trim();
            
            if (!username) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }

            if (username.length < 2) {
                showNotification('Ù†Ø§Ù… Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ÛŒØ¯ Ø­Ø¯Ø§Ù‚Ù„ 2 Ú©Ø§Ø±Ø§Ú©ØªØ± Ø¨Ø§Ø´Ø¯!', 'error');
                return;
            }

            userProfile.username = username;
            userProfile.avatar = selectedAvatar || 'ğŸ‘¤';
            userProfile.joinDate = Date.now();
            userProfile.profileId = generateUniqueId();
            
            const saved = saveProfilePermanently();
            if (saved) {
                startEnhancedAutoSave();
                showCountrySelection();
                showNotification(`âœ… Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ${username} Ø§ÛŒØ¬Ø§Ø¯ Ùˆ Ø¯Ø± 15+ Ù…Ú©Ø§Ù† Ù…Ø®ØªÙ„Ù Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯! Ø­Ø³Ø§Ø¨ Ø´Ù…Ø§ ØªØ§ Ø§Ø¨Ø¯ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª. ğŸ”’`);
                awardAchievement('first_game');
            } else {
                showNotification('Ø®Ø·Ø§ Ø¯Ø± Ø°Ø®ÛŒØ±Ù‡ Ù¾Ø±ÙˆÙØ§ÛŒÙ„!', 'error');
            }
        }

        function loadExistingProfile() {
            const loaded = loadProfilePermanently();
            if (loaded && userProfile.username) {
                if (userProfile.permanentCountry) {
                    gameState.selectedCountry = userProfile.permanentCountry;
                    showGameInterface();
                    showNotification(`ğŸ‰ Ø®ÙˆØ´ Ø¨Ø±Ú¯Ø´ØªÛŒØ¯ ${userProfile.username}! Ø´Ù…Ø§ Ø±Ù‡Ø¨Ø± ${gameState.countries[userProfile.permanentCountry].name} Ù‡Ø³ØªÛŒØ¯! ğŸ‘‘`);
                } else {
                    showCountrySelection();
                    showNotification(`ğŸ‰ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ${userProfile.username} Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø´Ø¯!`);
                }
                startEnhancedAutoSave();
            } else {
                showNotification('Ù‡ÛŒÚ† Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯!', 'error');
            }
        }

        // Screen Management
        function showMainHomepage() {
            document.getElementById('main-homepage').classList.remove('hidden');
            document.getElementById('profile-setup').classList.add('hidden');
            document.getElementById('country-selection').classList.add('hidden');
            document.getElementById('game-interface').classList.add('hidden');
            document.querySelector('.mobile-header').style.display = 'none';
        }

        function showProfileSetup() {
            document.getElementById('main-homepage').classList.add('hidden');
            document.getElementById('profile-setup').classList.remove('hidden');
            document.getElementById('country-selection').classList.add('hidden');
            document.getElementById('game-interface').classList.add('hidden');
            document.querySelector('.mobile-header').style.display = 'block';
        }

        function showCountrySelection() {
            document.getElementById('main-homepage').classList.add('hidden');
            document.getElementById('profile-setup').classList.add('hidden');
            document.getElementById('country-selection').classList.remove('hidden');
            document.getElementById('game-interface').classList.add('hidden');
            document.querySelector('.mobile-header').style.display = 'block';
            populateCountriesList();
        }

        function showGameInterface() {
            document.getElementById('main-homepage').classList.add('hidden');
            document.getElementById('profile-setup').classList.add('hidden');
            document.getElementById('country-selection').classList.add('hidden');
            document.getElementById('game-interface').classList.remove('hidden');
            
            document.querySelector('.mobile-tabs').style.display = 'flex';
            document.querySelector('.mobile-header').style.display = 'block';
            document.getElementById('user-panel-btn').style.display = 'block';
            document.getElementById('user-profile').style.display = 'flex';
            
            updateUI();
            updateHeaderProfile();
            updateWorldNewsDisplay();
            startGameLoop();
        }

        // XP and Achievement System
        function addXP(amount) {
            userProfile.xp += amount;
            const newLevel = Math.floor(userProfile.xp / 1000) + 1;
            
            if (newLevel > userProfile.level) {
                userProfile.level = newLevel;
                showNotification(`ğŸ‰ Ø³Ø·Ø­ Ø¬Ø¯ÛŒØ¯! Ø´Ù…Ø§ Ø¨Ù‡ Ø³Ø·Ø­ ${newLevel} Ø±Ø³ÛŒØ¯ÛŒØ¯!`);
            }
            
            saveProfilePermanently();
            updateHeaderProfile();
        }

        function awardAchievement(achievementId) {
            if (userProfile.achievements.includes(achievementId)) return;
            
            const achievement = achievementsList.find(a => a.id === achievementId);
            if (achievement) {
                userProfile.achievements.push(achievementId);
                addXP(achievement.xp);
                showNotification(`ğŸ… Ø¯Ø³ØªØ§ÙˆØ±Ø¯ Ø¬Ø¯ÛŒØ¯: ${achievement.name}!`);
                saveProfilePermanently();
            }
        }

        function checkAchievements() {
            const country = gameState.countries[gameState.selectedCountry];
            
            if (country.money >= 1000000) awardAchievement('rich_player');
            if (country.technology >= 80) awardAchievement('tech_master');
            if (country.population >= 100000000) awardAchievement('population_boom');
            if (country.dailyIncome >= 10000) awardAchievement('economic_power');
            if (userProfile.warsWon >= 10) awardAchievement('war_veteran');
        }

        // Avatar Management
        function populateAvatarOptions() {
            const container = document.getElementById('avatar-options');
            container.innerHTML = avatars.map(avatar => `
                <div class="avatar-option" onclick="selectAvatarOption('${avatar}')">
                    ${avatar}
                </div>
            `).join('');
        }

        function showAvatarSelector() {
            populateAvatarOptions();
            document.getElementById('avatar-selector').classList.add('active');
        }

        function closeAvatarSelector() {
            document.getElementById('avatar-selector').classList.remove('active');
        }

        function selectAvatarOption(avatar) {
            selectedAvatar = avatar;
            document.querySelectorAll('.avatar-option').forEach(el => el.classList.remove('selected'));
            event.target.classList.add('selected');
        }

        function selectAvatar() {
            if (!selectedAvatar) {
                showNotification('Ù„Ø·ÙØ§Ù‹ Ø¢ÙˆØ§ØªØ§Ø±ÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }
            
            document.getElementById('avatar-display').textContent = selectedAvatar;
            closeAvatarSelector();
            showNotification('Ø¢ÙˆØ§ØªØ§Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯!');
        }

        // Country Management
        function populateCountriesList() {
            const container = document.getElementById('countries-list');
            const countriesArray = Object.entries(gameState.countries);
            
            container.innerHTML = countriesArray.map(([id, country]) => `
                <div class="country-selection-card" onclick="selectCountry('${id}')">
                    <div class="flex items-center space-x-4 space-x-reverse">
                        <div class="text-3xl">${country.flag}</div>
                        <div class="flex-1">
                            <h3 class="text-base font-bold mb-1">${country.name}</h3>
                            <p class="text-xs text-blue-300 mb-2">Ø±Ø¦ÛŒØ³: ${country.president}</p>
                            <div class="stats-grid text-xs">
                                <div>ğŸ’° Ù¾ÙˆÙ„: ${formatNumber(country.money)}</div>
                                <div>ğŸ‘¥ Ø¬Ù…Ø¹ÛŒØª: ${formatNumber(country.population)}</div>
                                <div>âš”ï¸ Ø§Ø±ØªØ´: ${formatNumber(country.army)}</div>
                                <div>ğŸ’» ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ: ${country.technology}%</div>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function selectCountry(countryId) {
            if (userProfile.permanentCountry && userProfile.permanentCountry !== countryId) {
                showNotification(`Ø´Ù…Ø§ Ù‚Ø¨Ù„Ø§Ù‹ ${gameState.countries[userProfile.permanentCountry].name} Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡â€ŒØ§ÛŒØ¯ Ùˆ Ù†Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù† Ø±Ø§ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯! ğŸ”’`, 'error');
                return;
            }
            
            gameState.selectedCountry = countryId;
            userProfile.gamesPlayed++;
            userProfile.selectedCountry = countryId;
            userProfile.permanentCountry = countryId;
            
            saveProfilePermanently();
            showGameInterface();
            showNotification(`Ø¨Ù‡ ${gameState.countries[countryId].name} Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯! Ø§ÛŒÙ† Ú©Ø´ÙˆØ± ØªØ§ Ø§Ø¨Ø¯ Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ø´Ù…Ø§ Ø®ÙˆØ§Ù‡Ø¯ Ø¨ÙˆØ¯! ğŸ´ğŸ”’`);
            setTimeout(() => {
                showNotification('ğŸ“± Ø¨Ø±Ø§ÛŒ Ø¢Ù¾Ø¯ÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø¨Ù‡ Ú©Ø§Ù†Ø§Ù„ Ø±ÙˆØ¨ÛŒÚ©Ø§ Ø¨Ù¾ÛŒÙˆÙ†Ø¯ÛŒØ¯: rubika.ir/worldpolitics');
            }, 3000);
        }

        // Game UI Updates
        function updateUI() {
            const country = gameState.countries[gameState.selectedCountry];
            
            document.getElementById('country-flag').textContent = country.flag;
            document.getElementById('country-name').textContent = country.name;
            document.getElementById('president-name').textContent = country.president;
            document.getElementById('money').textContent = formatNumber(country.money);
            document.getElementById('population').textContent = formatNumber(country.population);
            document.getElementById('army').textContent = formatNumber(country.army);
            document.getElementById('technology').textContent = country.technology + '%';
            document.getElementById('daily-income').textContent = formatNumber(country.dailyIncome);
            document.getElementById('missiles').textContent = formatNumber(country.missiles);
            document.getElementById('centrifuges').textContent = formatNumber(country.centrifuges);
            document.getElementById('nuclear-program').textContent = country.nuclearProgram + '%';
            document.getElementById('game-time').textContent = `Ø±ÙˆØ² ${gameState.day}`;
            
            updateWorldRanking();
            updateAttackCountriesList();
            checkAchievements();
            
            if (userProfile.username) {
                saveProfilePermanently();
            }
        }

        function updateHeaderProfile() {
            if (userProfile.username) {
                document.getElementById('header-avatar').textContent = userProfile.avatar;
                document.getElementById('header-username').textContent = userProfile.username;
                document.getElementById('user-level').textContent = userProfile.level;
            }
        }

        function updateAttackCountriesList() {
            if (!gameState.selectedCountry) return;
            
            const searchTerm = document.getElementById('attack-search')?.value?.toLowerCase() || '';
            const myCountry = gameState.countries[gameState.selectedCountry];
            
            const attackTargets = Object.entries(gameState.countries)
                .filter(([id, country]) => {
                    if (id === gameState.selectedCountry) return false;
                    if (searchTerm && !country.name.toLowerCase().includes(searchTerm)) return false;
                    return true;
                })
                .map(([id, country]) => {
                    const enemyPower = country.army + (country.technology * 10) + (country.missiles * 15);
                    const myPower = myCountry.army + (myCountry.technology * 10) + (myCountry.missiles * 15);
                    const winChance = Math.min(Math.max((myPower / (enemyPower + myPower)) * 100, 5), 95);
                    
                    let difficultyColor = 'bg-green-700';
                    let difficultyText = 'Ø¢Ø³Ø§Ù†';
                    
                    if (winChance < 30) {
                        difficultyColor = 'bg-red-700';
                        difficultyText = 'Ø®Ø·Ø±Ù†Ø§Ú©';
                    } else if (winChance < 60) {
                        difficultyColor = 'bg-yellow-700';
                        difficultyText = 'Ù…ØªÙˆØ³Ø·';
                    }
                    
                    return { id, country, winChance, difficultyColor, difficultyText };
                })
                .sort((a, b) => b.winChance - a.winChance);

            const attackHTML = attackTargets.map(({ id, country, winChance, difficultyColor, difficultyText }) => `
                <div class="p-3 bg-gray-700 rounded cursor-pointer hover:bg-gray-600 transition-colors border-2 border-transparent attack-target" data-target="${id}">
                    <div class="flex items-center justify-between mb-2">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="text-lg">${country.flag}</span>
                            <div>
                                <div class="text-sm font-bold">${country.name}</div>
                                <div class="text-xs text-gray-300">${country.president}</div>
                            </div>
                        </div>
                        <div class="text-right">
                            <div class="text-xs ${difficultyColor} px-2 py-1 rounded text-white font-bold">
                                ${difficultyText}
                            </div>
                            <div class="text-xs text-gray-300 mt-1">
                                Ø´Ø§Ù†Ø³ Ù¾ÛŒØ±ÙˆØ²ÛŒ: ${Math.round(winChance)}%
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-2 text-xs">
                        <div class="text-center">
                            <div class="text-gray-400">Ø§Ø±ØªØ´</div>
                            <div class="font-bold">${formatNumber(country.army)}</div>
                        </div>
                        <div class="text-center">
                            <div class="text-gray-400">Ù…ÙˆØ´Ú©</div>
                            <div class="font-bold">${formatNumber(country.missiles)}</div>
                        </div>
                        <div class="text-center">
                            <div class="text-gray-400">Ù¾ÙˆÙ„</div>
                            <div class="font-bold">${formatNumber(country.money)}</div>
                        </div>
                    </div>
                    <div class="mt-2 text-center">
                        <button class="bg-red-600 hover:bg-red-700 text-white px-4 py-1 rounded text-xs font-bold transition-colors" onclick="attackCountry('${id}')">
                            âš”ï¸ Ø­Ù…Ù„Ù‡
                        </button>
                    </div>
                </div>
            `).join('');

            const container = document.getElementById('attack-countries-list');
            if (container) {
                container.innerHTML = attackHTML || '<div class="text-gray-400 text-center text-sm">Ú©Ø´ÙˆØ±ÛŒ Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡ ÛŒØ§ÙØª Ù†Ø´Ø¯</div>';
            }
        }

        function updateWorldNewsDisplay() {
            const newsContainer = document.getElementById('world-news');
            if (newsContainer && gameState.worldNews.length > 0) {
                newsContainer.innerHTML = gameState.worldNews.slice(-10).reverse().map(news => `
                    <div class="p-2 bg-blue-800 rounded text-xs">${news}</div>
                `).join('');
            }
        }

        function addWorldNews(news) {
            gameState.worldNews.push(news);
            if (gameState.worldNews.length > 50) {
                gameState.worldNews = gameState.worldNews.slice(-30);
            }
            updateWorldNewsDisplay();
        }

        function updateWorldRanking() {
            const ranking = Object.entries(gameState.countries)
                .map(([id, country]) => ({
                    id,
                    ...country,
                    power: country.army + country.technology + (country.money / 1000) + (country.missiles * 10)
                }))
                .sort((a, b) => b.power - a.power);

            const rankingHTML = ranking.slice(0, 10).map((country, index) => `
                <div class="p-2 bg-gray-700 rounded text-xs ${country.id === gameState.selectedCountry ? 'border-2 border-yellow-400' : ''}">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span class="font-bold">${index + 1}.</span>
                            <span>${country.flag}</span>
                            <span class="text-sm">${country.name}</span>
                        </div>
                        <span class="text-xs">${Math.round(country.power)}</span>
                    </div>
                </div>
            `).join('');

            document.getElementById('world-ranking').innerHTML = rankingHTML;
            
            const myRank = ranking.findIndex(c => c.id === gameState.selectedCountry) + 1;
            document.getElementById('power-rank').textContent = `Ø±ØªØ¨Ù‡: ${myRank}`;
        }

        // Game Actions
        function buildMine() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 5000) {
                country.money -= 5000;
                country.dailyIncome += 1000;
                updateUI();
                showNotification('Ù…Ø¹Ø¯Ù† Ø¬Ø¯ÛŒØ¯ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buildFactory() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 3000) {
                country.money -= 3000;
                country.dailyIncome += 500;
                updateUI();
                showNotification('Ú©Ø§Ø±Ø®Ø§Ù†Ù‡ Ø¬Ø¯ÛŒØ¯ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function investTechnology() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 8000) {
                country.money -= 8000;
                country.technology += 5;
                updateUI();
                showNotification('ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ú©Ø´ÙˆØ± Ø§Ø±ØªÙ‚Ø§ ÛŒØ§ÙØª!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function improveWelfare() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 6000) {
                country.money -= 6000;
                country.population += 1000000;
                updateUI();
                showNotification('Ø±ÙØ§Ù‡ Ø¹Ù…ÙˆÙ…ÛŒ Ø¨Ù‡Ø¨ÙˆØ¯ ÛŒØ§ÙØª!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function recruitSoldiers() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 4000) {
                country.money -= 4000;
                country.army += 1000;
                updateUI();
                showNotification('Ø³Ø±Ø¨Ø§Ø²Ø§Ù† Ø¬Ø¯ÛŒØ¯ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø´Ø¯Ù†Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buyTanks() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 7000) {
                country.money -= 7000;
                country.army += 500;
                updateUI();
                showNotification('ØªØ§Ù†Ú©â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buyMissiles() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 10000) {
                country.money -= 10000;
                country.missiles += 5;
                country.army += 50;
                updateUI();
                showNotification('Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buildDefense() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 15000) {
                country.money -= 15000;
                country.army += 200;
                country.technology += 3;
                addXP(150);
                updateUI();
                showNotification('Ø³ÛŒØ³ØªÙ… Ù¾Ø¯Ø§ÙÙ†Ø¯ÛŒ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯!');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buildCentrifuges() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 20000) {
                country.money -= 20000;
                country.centrifuges += 1;
                country.technology += 2;
                addXP(200);
                updateUI();
                showNotification('Ø³Ø§Ù†ØªØ±ÛŒÙÛŒÙˆÚ˜ Ø¬Ø¯ÛŒØ¯ Ø³Ø§Ø®ØªÙ‡ Ø´Ø¯!');
                
                if (country.centrifuges >= 3) {
                    showNotification('âš ï¸ ØªØ­Ø±ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯!', 'error');
                    country.dailyIncome = Math.max(country.dailyIncome - 1000, 500);
                }
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function developNuclear() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 30000 && country.centrifuges >= 1) {
                country.money -= 30000;
                country.nuclearProgram += 5;
                country.technology += 3;
                addXP(300);
                updateUI();
                showNotification('Ø¨Ø±Ù†Ø§Ù…Ù‡ Ù‡Ø³ØªÙ‡â€ŒØ§ÛŒ Ù¾ÛŒØ´Ø±ÙØª Ú©Ø±Ø¯!');
                
                if (country.nuclearProgram >= 50) {
                    showNotification('âš ï¸ ÙØ´Ø§Ø± Ø¨ÛŒÙ†â€ŒØ§Ù„Ù…Ù„Ù„ÛŒ Ø´Ø¯ÛŒØ¯!', 'error');
                    country.dailyIncome = Math.max(country.dailyIncome - 2000, 300);
                }
            } else if (country.centrifuges < 1) {
                showNotification('Ø§Ø¨ØªØ¯Ø§ Ø³Ø§Ù†ØªØ±ÛŒÙÛŒÙˆÚ˜ Ø¨Ø³Ø§Ø²ÛŒØ¯!', 'error');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function buyAdvancedMissiles() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 25000 && country.technology >= 60) {
                country.money -= 25000;
                country.missiles += 10;
                country.army += 200;
                addXP(250);
                updateUI();
                showNotification('Ù…ÙˆØ´Ú©â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø®Ø±ÛŒØ¯Ø§Ø±ÛŒ Ø´Ø¯!');
            } else if (country.technology < 60) {
                showNotification('ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯! (Ø­Ø¯Ø§Ù‚Ù„ Û¶Û°%)', 'error');
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function attackCountry(targetId) {
            if (!gameState.selectedCountry || !targetId) {
                showNotification('Ø®Ø·Ø§ Ø¯Ø± Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø´ÙˆØ±!', 'error');
                return;
            }

            const myCountry = gameState.countries[gameState.selectedCountry];
            const enemyCountry = gameState.countries[targetId];

            if (myCountry.army < 100) {
                showNotification('Ø§Ø±ØªØ´ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª! (Ø­Ø¯Ø§Ù‚Ù„ Û±Û°Û° Ù†ÛŒØ±Ùˆ)', 'error');
                return;
            }

            const myPower = myCountry.army + (myCountry.technology * 10) + (myCountry.missiles * 15);
            const enemyPower = enemyCountry.army + (enemyCountry.technology * 10) + (enemyCountry.missiles * 15);

            userProfile.totalWars++;
            
            const randomFactor = 0.8 + (Math.random() * 0.4);
            const adjustedMyPower = myPower * randomFactor;

            if (adjustedMyPower > enemyPower) {
                // Victory
                const lootPercentage = 0.2 + (Math.random() * 0.2);
                const loot = Math.floor(enemyCountry.money * lootPercentage);
                const territoryGain = Math.floor(enemyCountry.population * 0.1);
                const technologyGain = Math.floor(enemyCountry.technology * 0.05);
                
                const myArmyLoss = Math.floor(myCountry.army * (0.05 + Math.random() * 0.1));
                const myMissileLoss = Math.floor(myCountry.missiles * 0.1);
                
                const enemyArmyLoss = Math.floor(enemyCountry.army * (0.3 + Math.random() * 0.2));
                const enemyMissileLoss = Math.floor(enemyCountry.missiles * 0.2);
                
                myCountry.money += loot;
                myCountry.population += territoryGain;
                myCountry.technology += technologyGain;
                myCountry.army -= myArmyLoss;
                myCountry.missiles = Math.max(0, myCountry.missiles - myMissileLoss);
                
                enemyCountry.money = Math.max(1000, enemyCountry.money - loot);
                enemyCountry.army = Math.max(100, enemyCountry.army - enemyArmyLoss);
                enemyCountry.missiles = Math.max(0, enemyCountry.missiles - enemyMissileLoss);
                enemyCountry.population = Math.max(1000000, enemyCountry.population - territoryGain);
                
                userProfile.warsWon++;
                userProfile.totalMoney += loot;
                addXP(300);
                
                if (userProfile.warsWon === 1) awardAchievement('first_war');
                
                showNotification(`ğŸ‰ Ù¾ÛŒØ±ÙˆØ²ÛŒ Ø¨Ø± ${enemyCountry.name}! ØºÙ†Ø§Ø¦Ù…: ${formatNumber(loot)}$ + ${formatNumber(territoryGain)} Ù†ÙØ± Ø¬Ù…Ø¹ÛŒØª + ${technologyGain}% ØªÚ©Ù†ÙˆÙ„ÙˆÚ˜ÛŒ`);
                addWorldNews(`ğŸ”¥ ${myCountry.name} Ø¨Ù‡ ${enemyCountry.name} Ø­Ù…Ù„Ù‡ Ú©Ø±Ø¯ Ùˆ Ù¾ÛŒØ±ÙˆØ² Ø´Ø¯!`);
                
            } else {
                // Defeat
                const lossPercentage = 0.15 + (Math.random() * 0.15);
                const loss = Math.floor(myCountry.money * lossPercentage);
                const populationLoss = Math.floor(myCountry.population * 0.05);
                
                const myArmyLoss = Math.floor(myCountry.army * (0.2 + Math.random() * 0.2));
                const myMissileLoss = Math.floor(myCountry.missiles * 0.15);
                
                const enemyArmyLoss = Math.floor(enemyCountry.army * (0.05 + Math.random() * 0.1));
                
                myCountry.money = Math.max(1000, myCountry.money - loss);
                myCountry.army = Math.max(50, myCountry.army - myArmyLoss);
                myCountry.missiles = Math.max(0, myCountry.missiles - myMissileLoss);
                myCountry.population = Math.max(1000000, myCountry.population - populationLoss);
                
                enemyCountry.army -= enemyArmyLoss;
                
                addXP(50);
                
                showNotification(`ğŸ’¥ Ø´Ú©Ø³Øª! ${enemyCountry.name} Ø´Ù…Ø§ Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯. Ø¶Ø±Ø±Ù‡Ø§: ${formatNumber(loss)}$ + ${formatNumber(populationLoss)} Ù†ÙØ± + ${formatNumber(myArmyLoss)} Ø³Ø±Ø¨Ø§Ø²`, 'error');
                addWorldNews(`âš”ï¸ ${enemyCountry.name} Ø­Ù…Ù„Ù‡ ${myCountry.name} Ø±Ø§ Ø¯ÙØ¹ Ú©Ø±Ø¯!`);
            }

            saveProfilePermanently();
            updateUI();
        }

        function spyMission() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country.money >= 5000) {
                country.money -= 5000;
                const success = Math.random() > 0.5;
                
                if (success) {
                    const intel = Math.floor(Math.random() * 10000) + 5000;
                    country.money += intel;
                    showNotification(`Ù…Ø§Ù…ÙˆØ±ÛŒØª Ø¬Ø§Ø³ÙˆØ³ÛŒ Ù…ÙˆÙÙ‚! ${formatNumber(intel)}$ Ø¨Ù‡ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯ÛŒØ¯!`);
                } else {
                    showNotification('Ù…Ø§Ù…ÙˆØ±ÛŒØª Ø¬Ø§Ø³ÙˆØ³ÛŒ Ø´Ú©Ø³Øª Ø®ÙˆØ±Ø¯!', 'error');
                }
                updateUI();
            } else {
                showNotification('Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†Ø¯Ø§Ø±ÛŒØ¯!', 'error');
            }
        }

        function showWarOptions() {
            const enemies = Object.entries(gameState.countries)
                .filter(([id]) => id !== gameState.selectedCountry)
                .map(([id, country]) => `
                    <div class="p-3 bg-gray-700 rounded cursor-pointer hover:bg-gray-600 transition-colors" onclick="selectEnemy('${id}')">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-2 space-x-reverse">
                                <span class="text-lg">${country.flag}</span>
                                <span class="text-sm">${country.name}</span>
                            </div>
                            <div class="text-xs text-gray-300">
                                <span>Ø§Ø±ØªØ´: ${formatNumber(country.army)}</span>
                            </div>
                        </div>
                    </div>
                `).join('');

            document.getElementById('enemy-countries').innerHTML = enemies;
            document.getElementById('war-modal').classList.add('active');
        }

        function selectEnemy(enemyId) {
            gameState.selectedEnemy = enemyId;
            document.querySelectorAll('#enemy-countries > div').forEach(el => el.classList.remove('bg-red-700'));
            event.target.closest('div').classList.add('bg-red-700');
        }

        function startWar() {
            if (!gameState.selectedEnemy) {
                showNotification('Ø§Ø¨ØªØ¯Ø§ Ú©Ø´ÙˆØ± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯!', 'error');
                return;
            }

            const myCountry = gameState.countries[gameState.selectedCountry];
            const enemyCountry = gameState.countries[gameState.selectedEnemy];

            if (myCountry.army < 100) {
                showNotification('Ø§Ø±ØªØ´ Ø´Ù…Ø§ Ø¨Ø±Ø§ÛŒ Ø­Ù…Ù„Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!', 'error');
                return;
            }

            const myPower = myCountry.army + (myCountry.technology * 10) + (myCountry.missiles * 15);
            const enemyPower = enemyCountry.army + (enemyCountry.technology * 10) + (enemyCountry.missiles * 15);

            const randomFactor = 0.8 + (Math.random() * 0.4);
            const adjustedMyPower = myPower * randomFactor;

            if (adjustedMyPower > enemyPower) {
                // Victory
                const loot = Math.floor(enemyCountry.money * 0.3);
                const territoryGain = Math.floor(enemyCountry.population * 0.1);
                
                myCountry.money += loot;
                myCountry.population += territoryGain;
                myCountry.army -= Math.floor(myCountry.army * 0.1);
                
                enemyCountry.money = Math.max(1000, enemyCountry.money - loot);
                enemyCountry.army = Math.max(100, enemyCountry.army * 0.7);
                enemyCountry.population = Math.max(1000000, enemyCountry.population - territoryGain);
                
                showNotification(`ğŸ‰ Ù¾ÛŒØ±ÙˆØ²ÛŒ Ø¨Ø± ${enemyCountry.name}! ØºÙ†Ø§Ø¦Ù…: ${formatNumber(loot)}$ + ${formatNumber(territoryGain)} Ù†ÙØ±`);
                
            } else {
                // Defeat
                const loss = Math.floor(myCountry.money * 0.2);
                myCountry.money = Math.max(1000, myCountry.money - loss);
                myCountry.army = Math.max(50, myCountry.army * 0.8);
                
                showNotification(`ğŸ’¥ Ø´Ú©Ø³Øª! ${enemyCountry.name} Ø´Ù…Ø§ Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯. Ø¶Ø±Ø±: ${formatNumber(loss)}$`, 'error');
            }

            closeWarModal();
            updateUI();
        }

        function closeWarModal() {
            document.getElementById('war-modal').classList.remove('active');
            gameState.selectedEnemy = null;
        }

        // Tab Management
        function switchTab(tabName) {
            document.querySelectorAll('.mobile-tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.add('hidden'));
            
            event.target.classList.add('active');
            document.getElementById(`${tabName}-tab`).classList.remove('hidden');
        }

        // Game Loop
        function startGameLoop() {
            setInterval(() => {
                if (gameState.selectedCountry) {
                    const country = gameState.countries[gameState.selectedCountry];
                    country.money += Math.floor(country.dailyIncome / 24);
                    updateUI();
                }
            }, 60000); // Every minute
            
            // Daily income
            setInterval(() => {
                if (gameState.selectedCountry) {
                    gameState.day++;
                    const country = gameState.countries[gameState.selectedCountry];
                    country.money += country.dailyIncome;
                    updateUI();
                }
            }, 300000); // Every 5 minutes = 1 day
        }

        // Admin Functions
        function showAdminLogin() {
            document.getElementById('admin-login-modal').classList.add('active');
            document.getElementById('admin-password').value = '';
        }

        function closeAdminLogin() {
            document.getElementById('admin-login-modal').classList.remove('active');
        }

        function checkAdminPassword() {
            const password = document.getElementById('admin-password').value;
            
            if (adminPasswords.includes(password)) {
                closeAdminLogin();
                showAdminPanel();
                showNotification('ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆÙÙ‚!');
            } else {
                showNotification('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø§Ø´ØªØ¨Ø§Ù‡ Ø§Ø³Øª!', 'error');
            }
        }

        function showAdminPanel() {
            const country = gameState.countries[gameState.selectedCountry];
            if (country) {
                document.getElementById('admin-money').value = country.money;
                document.getElementById('admin-population').value = country.population;
                document.getElementById('admin-army').value = country.army;
            }
            
            refreshPlayersList();
            document.getElementById('admin-panel-modal').classList.add('active');
        }

        function closeAdminPanel() {
            document.getElementById('admin-panel-modal').classList.remove('active');
        }

        function refreshPlayersList() {
            const allPlayers = getAllPlayers();
            const playersContainer = document.getElementById('players-list');
            const playersCount = document.getElementById('players-count');
            
            playersCount.textContent = `ØªØ¹Ø¯Ø§Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†Ø§Ù†: ${allPlayers.length}`;
            
            playersContainer.innerHTML = allPlayers.map(player => `
                <div class="bg-gray-700 rounded p-2 text-xs">
                    <div class="flex items-center justify-between mb-1">
                        <div class="flex items-center space-x-2 space-x-reverse">
                            <span>${player.avatar}</span>
                            <span class="font-bold">${player.username}</span>
                        </div>
                        <span class="text-purple-300">Ø³Ø·Ø­ ${player.level}</span>
                    </div>
                    <div class="text-gray-300">
                        ${player.countryFlag} ${player.countryName} ${player.isPermanent ? 'ğŸ”’' : ''}
                    </div>
                    <div class="text-gray-400 text-xs">
                        Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØª: ${new Date(player.lastActive).toLocaleString('fa-IR')}
                    </div>
                </div>
            `).join('');
        }

        function handleAdminAction(action) {
            const country = gameState.countries[gameState.selectedCountry];
            if (!country) return;

            switch (action) {
                case 'setMoney':
                    const money = parseInt(document.getElementById('admin-money').value) || 0;
                    country.money = money;
                    break;
                case 'setPopulation':
                    const population = parseInt(document.getElementById('admin-population').value) || 0;
                    country.population = population;
                    break;
                case 'setArmy':
                    const army = parseInt(document.getElementById('admin-army').value) || 0;
                    country.army = army;
                    break;
                case 'maxAll':
                    country.money = 999999999;
                    country.population = 2000000000;
                    country.army = 50000;
                    country.technology = 100;
                    country.missiles = 1000;
                    country.centrifuges = 50;
                    country.nuclearProgram = 100;
                    country.dailyIncome = 100000;
                    break;
                case 'addMillion':
                    country.money += 1000000;
                    break;
                case 'refreshPlayers':
                    refreshPlayersList();
                    return;
            }

            saveProfilePermanently();
            updateUI();
            showNotification('ØªØºÛŒÛŒØ±Ø§Øª Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯!');
        }

        // User Panel Functions
        function showUserPanel() {
            document.getElementById('profile-avatar').textContent = userProfile.avatar;
            document.getElementById('profile-username').textContent = userProfile.username;
            document.getElementById('profile-level').textContent = userProfile.level;
            document.getElementById('profile-xp').textContent = userProfile.xp;
            
            document.getElementById('games-played').textContent = userProfile.gamesPlayed;
            document.getElementById('wars-won').textContent = userProfile.warsWon;
            document.getElementById('total-money').textContent = formatNumber(userProfile.totalMoney);
            document.getElementById('total-wars').textContent = userProfile.totalWars;
            
            document.getElementById('user-panel-modal').classList.add('active');
        }

        function closeUserPanel() {
            document.getElementById('user-panel-modal').classList.remove('active');
        }

        function saveCurrentGame() {
            showNotification('Ø¨Ø§Ø²ÛŒ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯!');
        }

        function resetGame() {
            if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ØŸ ØªÙ…Ø§Ù… Ù¾ÛŒØ´Ø±ÙØª ÙØ¹Ù„ÛŒ Ø§Ø² Ø¯Ø³Øª Ø®ÙˆØ§Ù‡Ø¯ Ø±ÙØª!')) {
                // Reset game state but keep profile
                gameState.day = 1;
                gameState.selectedCountry = null;
                userProfile.permanentCountry = null;
                userProfile.selectedCountry = null;
                
                saveProfilePermanently();
                showCountrySelection();
                showNotification('Ø¨Ø§Ø²ÛŒ Ø¬Ø¯ÛŒØ¯ Ø´Ø±ÙˆØ¹ Ø´Ø¯!');
            }
        }

        // Event Listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Check if user has existing profile
            const hasProfile = loadProfilePermanently();
            
            if (hasProfile && userProfile.username) {
                if (userProfile.permanentCountry) {
                    gameState.selectedCountry = userProfile.permanentCountry;
                    showGameInterface();
                    showNotification(`ğŸ‰ Ø®ÙˆØ´ Ø¨Ø±Ú¯Ø´ØªÛŒØ¯ ${userProfile.username}! Ø´Ù…Ø§ Ø±Ù‡Ø¨Ø± ${gameState.countries[userProfile.permanentCountry].name} Ù‡Ø³ØªÛŒØ¯! ğŸ‘‘`);
                    startEnhancedAutoSave();
                } else {
                    showCountrySelection();
                    showNotification(`ğŸ‰ Ù¾Ø±ÙˆÙØ§ÛŒÙ„ ${userProfile.username} Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ Ø´Ø¯!`);
                    startEnhancedAutoSave();
                }
            } else {
                showMainHomepage();
            }
            
            // Main homepage events
            document.getElementById('start-game-btn').addEventListener('click', function() {
                showDailyNews();
            });
            
            document.getElementById('continue-to-game-btn').addEventListener('click', function() {
                showProfileSetup();
            });
            
            // Profile setup events
            document.getElementById('create-profile-btn').addEventListener('click', createProfile);
            document.getElementById('load-profile-btn').addEventListener('click', loadExistingProfile);
            document.getElementById('change-avatar-btn').addEventListener('click', showAvatarSelector);
            
            // Avatar selector events
            document.getElementById('select-avatar-btn').addEventListener('click', selectAvatar);
            document.getElementById('cancel-avatar-btn').addEventListener('click', closeAvatarSelector);
            
            // Admin panel events
            document.getElementById('admin-panel-btn').addEventListener('click', showAdminLogin);
            document.getElementById('user-panel-btn').addEventListener('click', showUserPanel);
            
            // Enter key support
            document.getElementById('username-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    createProfile();
                }
            });
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'99ccfef2b3dddcc6',t:'MTc2Mjg1NTc4NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
